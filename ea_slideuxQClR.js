var hn=Object.defineProperty;var pn=(c,t,e)=>t in c?hn(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var ce=(c,t,e)=>(pn(c,typeof t!="symbol"?t+"":t,e),e),mn=(c,t,e)=>{if(!t.has(c))throw TypeError("Cannot "+e)};var ft=(c,t,e)=>{if(t.has(c))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(c):t.set(c,e)};var Ke=(c,t,e)=>(mn(c,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();const gn="modulepreload",vn=function(c,t){return new URL(c,t).href},It={},bn=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){const n=document.getElementsByTagName("link");o=Promise.all(e.map(i=>{if(i=vn(i,r),i in It)return;It[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let v=n.length-1;v>=0;v--){const g=n[v];if(g.href===i&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const m=document.createElement("link");if(m.rel=a?"stylesheet":gn,a||(m.as="script",m.crossOrigin=""),m.href=i,document.head.appendChild(m),a)return new Promise((v,g)=>{m.addEventListener("load",v),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})}))}return o.then(()=>t()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})};window.RevealAudioSlideshow=window.RevealAudioSlideshow||{id:"RevealAudioSlideshow",init:function(c){wn(c)}};const wn=function(c){var t="audio/",e=".ogg",r=null,o=!1,n=!1,i=5,a=!0,l=0,b=!1,m=.05,v=!1,g="position: fixed; bottom: 4px; left: 25%; width: 50%; height:75px; z-index: 33;",f,p=null,d=null;c.addEventListener("fragmentshown",function(T){d&&(clearTimeout(d),d=null),y()}),c.addEventListener("fragmenthidden",function(T){d&&(clearTimeout(d),d=null),y()}),c.addEventListener("ready",function(T){u(),y(),document.dispatchEvent(new CustomEvent("stopplayback"))}),c.addEventListener("slidechanged",function(T){d&&(clearTimeout(d),d=null);var A=c.getIndices();!v&&typeof A.f<"u"&&A.f>=0&&c.slide(A.h,A.v,-1),y()}),c.addEventListener("paused",function(T){d&&(clearTimeout(d),d=null),p&&p.pause()}),c.addEventListener("resumed",function(T){d&&(clearTimeout(d),d=null)}),c.addEventListener("overviewshown",function(T){d&&(clearTimeout(d),d=null),p&&p.pause(),document.querySelector(".audio-controls").style.visibility="hidden"}),c.addEventListener("overviewhidden",function(T){d&&(clearTimeout(d),d=null),document.querySelector(".audio-controls").style.visibility="visible"}),c.addKeyBinding({keyCode:65,key:"A",description:"Toggle audio"},function(){p&&(d&&(clearTimeout(d),d=null),p.paused?p.play():p.pause())});function y(T){p&&(p.pause(),p.style.display="none");var A=c.getIndices(),P="audioplayer-"+A.h+"."+A.v;A.f!=null&&A.f>=0&&(P=P+"."+A.f),p=document.getElementById(P),p&&(p.style.display="block",T?p.id!=T.id&&(p.volume=T.volume,p.muted=T.muted,p.play()):b&&p.play())}function u(){if(document.querySelector("section[data-markdown]:not([data-markdown-parsed])")||document.querySelector('code[data-line-numbers*="|"]')){setTimeout(u,100);return}var T=c.getConfig().audio;T&&(T.prefix!=null&&(t=T.prefix),T.suffix!=null&&(e=T.suffix),T.textToSpeechURL!=null&&(r=T.textToSpeechURL),T.defaultNotes!=null&&(o=T.defaultNotes),T.defaultText!=null&&(n=T.defaultText),T.defaultDuration!=null&&(i=T.defaultDuration),T.defaultAudios!=null&&(a=T.defaultAudios),T.advance!=null&&(l=T.advance),T.autoplay!=null&&(b=T.autoplay),T.playerOpacity!=null&&(m=T.playerOpacity),T.playerStyle!=null&&(g=T.playerStyle)),("ontouchstart"in window||navigator.msMaxTouchPoints)&&(opacity=1),c.getConfig().audioStartAtFragment&&(v=c.getConfig().audioStartAtFragment);var A=".audio-controls>audio { opacity:"+m+";} .audio-controls:hover>audio { opacity:1;}",P=document.createElement("style");P.styleSheet?P.styleSheet.cssText=A:P.appendChild(document.createTextNode(A)),document.getElementsByTagName("head")[0].appendChild(P),f=new Bt(i);var Z=document.createElement("div");Z.className="audio-controls",Z.setAttribute("style",g),document.querySelector(".reveal").appendChild(Z),k();for(var C=document.querySelectorAll(".reveal .slides>section"),L=0,h=C.length;L<h;L++){var F=C[L].querySelectorAll("section");if(!F.length)w(Z,L,0,C[L]);else for(var Y=0,N=F.length;Y<N;Y++)w(Z,L,Y,F[Y])}}function k(){for(var T=document.querySelectorAll("video[data-audio-controls]"),A=0;A<T.length;A++)T[A].load()}function S(T){for(var A=T.querySelectorAll("[data-audio-text]"),P=0,Z=A.length;P<Z;P++)T.innerHTML=T.innerHTML.replace(A[P].outerHTML,A[P].getAttribute("data-audio-text"));return T.textContent.trim().replace(/\s+/g," ")}function w(T,A,P,Z){if(Z.querySelector("code.fragment:not([data-fragment-index])")){for(E(T,A+"."+P,Z.getAttribute("data-audio-src"),"",null),V=Z.querySelectorAll("code.fragment"),N=0;N<V.length;N++)E(T,A+"."+P+"."+N,null,"",null);return}var C=document.createElement("div"),L=null;if(!Z.hasAttribute("data-audio-src")){if(Z.hasAttribute("data-audio-text"))L=Z.getAttribute("data-audio-text");else if(o&&c.getSlideNotes(Z)){var h=document.createElement("div");h.innerHTML=c.getSlideNotes(Z),L=h.textContent||""}else if(n){C.innerHTML=Z.innerHTML;for(var V=C.querySelectorAll(".fragment"),F=0,Y=V.length;F<Y;F++)C.innerHTML=C.innerHTML.replace(V[F].outerHTML,"");L=S(C)}}E(T,A+"."+P,Z.getAttribute("data-audio-src"),L,Z.querySelector(":not(.fragment) > video[data-audio-controls]"));for(var N=0,V;(V=Z.querySelectorAll('.fragment[data-fragment-index="'+N+'"]')).length>0;){for(var j=null,K=null,L="",F=0,Y=V.length;F<Y;F++)j||(j=V[F].getAttribute("data-audio-src")),K||(K=V[F].querySelector("video[data-audio-controls]")),V[F].hasAttribute("data-audio-text")?L+=V[F].getAttribute("data-audio-text")+" ":n&&(C.innerHTML=V[F].textContent,L+=S(C));E(T,A+"."+P+"."+N,j,L,K),N++}}function x(T,A){T.addEventListener("playing",function(C){A.currentTime=T.currentTime}),T.addEventListener("play",function(C){A.currentTime=T.currentTime,A.paused&&A.play()}),T.addEventListener("pause",function(C){A.currentTime=T.currentTime,A.paused||A.pause()}),T.addEventListener("volumechange",function(C){A.volume=T.volume,A.muted=T.muted}),T.addEventListener("seeked",function(C){A.currentTime=T.currentTime});var P=T.querySelector("source[data-audio-silent]");P&&T.removeChild(P),P=document.createElement("source");var Z=new Bt(Math.round(A.duration+.5));P.src=Z.dataURI,P.setAttribute("data-audio-silent",A.duration),T.appendChild(P,T.firstChild)}function I(T,A,P){if(r!=null&&A!=null&&A!=""){var Z=document.createElement("source");Z.src=r+encodeURIComponent(A),Z.setAttribute("data-tts",T.id.split("-").pop()),T.appendChild(Z,T.firstChild)}else if(!T.querySelector("source[data-audio-silent]")){var Z=document.createElement("source");Z.src=f.dataURI,Z.setAttribute("data-audio-silent",i),T.appendChild(Z,T.firstChild)}}function E(T,A,P,Z,C){var L=document.createElement("audio");if(L.setAttribute("style","position: relative; top: 20px; left: 10%; width: 80%;"),L.id="audioplayer-"+A,L.style.display="none",L.setAttribute("controls",""),L.setAttribute("preload","none"),C&&(C.duration?x(L,C):C.addEventListener("loadedmetadata",N=>{x(L,C)})),L.addEventListener("ended",function(N){if(typeof Recorder>"u"||!Recorder.isRecording){var V=l,j=c.getCurrentSlide(),K=c.getIndices();if(typeof K.f<"u"&&K.f>=0){var D=j.querySelector('.fragment[data-fragment-index="'+K.f+'"][data-audio-advance]');D&&(V=D.getAttribute("data-audio-advance"))}else j.hasAttribute("data-audio-advance")&&(V=j.getAttribute("data-audio-advance"));if(l=="true"||V==0){var O=p;c.next(),y(O)}else V>0&&(d=setTimeout(function(){var J=p;c.next(),y(J),d=null},V))}}),L.addEventListener("play",function(N){var V=new CustomEvent("startplayback");V.timestamp=1e3*L.currentTime,document.dispatchEvent(V),d&&(clearTimeout(d),d=null);var j=c.getIndices(),K="audioplayer-"+j.h+"."+j.v;j.f!=null&&j.f>=0?K=K+"."+(j.f+1):K=K+".0";var D=document.getElementById(K);D||(K="audioplayer-"+j.h+"."+(j.v+1),D=document.getElementById(K),D||(K="audioplayer-"+(j.h+1)+".0",D=document.getElementById(K))),D&&D.load()}),L.addEventListener("pause",function(N){d&&(clearTimeout(d),d=null);var V=new CustomEvent("stopplayback");V.audio=L,document.dispatchEvent(V)}),L.addEventListener("seeked",function(N){var V=new CustomEvent("seekplayback");V.timestamp=1e3*L.currentTime,document.dispatchEvent(V),d&&(clearTimeout(d),d=null)}),P!=null)P.split(",").forEach(function(N){var V=document.createElement("source");V.src=N,L.insertBefore(V,L.firstChild)});else if(a){var h=!1;try{var F=new XMLHttpRequest;F.open("HEAD",t+A+e,!0),F.onload=function(){if(F.readyState===4&&F.status>=200&&F.status<300){var N=document.createElement("source");N.src=t+A+e,L.insertBefore(N,L.firstChild),h=!0}else I(L,Z,C)},F.send(null)}catch{var Y=document.createElement("source");Y.src=t+A+e,L.insertBefore(Y,L.firstChild),I(L,Z)}}(P!=null||i>0)&&T.appendChild(L)}};var qt={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encLookup:[],Init:function(){for(var c=0;4096>c;c++)this.encLookup[c]=this.chars[c>>6]+this.chars[63&c]},Encode:function(c){for(var r=c.length,e="",o=0;r>2;)var t=c[o]<<16|c[o+1]<<8|c[o+2],e=e+this.encLookup[t>>12]+this.encLookup[4095&t],r=r-3,o=o+3;if(r>0){var n=(252&c[o])>>2,i=(3&c[o])<<4;if(r>1&&(i|=(240&c[++o])>>4),e+=this.chars[n],e+=this.chars[i],r==2){var a=(15&c[o++])<<2;a|=(192&c[o])>>6,e+=this.chars[a]}r==1&&(e+="="),e+="="}return e}};qt.Init();var Bt=function(c){function t(o){return[255&o,o>>8&255,o>>16&255,o>>24&255]}function e(o){return[255&o,o>>8&255]}function r(o){for(var n=[],i=0,a=o.length,l=0;a>l;l++)n[i++]=255&o[l],n[i++]=o[l]>>8&255;return n}this.data=[],this.wav=[],this.dataURI="",this.header={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:8e3,byteRate:0,blockAlign:0,bitsPerSample:8,subChunk2Id:[100,97,116,97],subChunk2Size:0},this.Make=function(o){for(var n=0;n<o*this.header.sampleRate;n++)this.data[n]=127;this.header.blockAlign=this.header.numChannels*this.header.bitsPerSample>>3,this.header.byteRate=this.header.blockAlign*this.sampleRate,this.header.subChunk2Size=this.data.length*(this.header.bitsPerSample>>3),this.header.chunkSize=36+this.header.subChunk2Size,this.wav=this.header.chunkId.concat(t(this.header.chunkSize),this.header.format,this.header.subChunk1Id,t(this.header.subChunk1Size),e(this.header.audioFormat),e(this.header.numChannels),t(this.header.sampleRate),t(this.header.byteRate),e(this.header.blockAlign),e(this.header.bitsPerSample),this.header.subChunk2Id,t(this.header.subChunk2Size),this.header.bitsPerSample==16?r(this.data):this.data),this.dataURI="data:audio/wav;base64,"+qt.Encode(this.wav)},this.Make(c)},Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Xe(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ht={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(c,t){(function(e){c.exports=e()})(function(){return function e(r,o,n){function i(b,m){if(!o[b]){if(!r[b]){var v=typeof Xe=="function"&&Xe;if(!m&&v)return v(b,!0);if(a)return a(b,!0);var g=new Error("Cannot find module '"+b+"'");throw g.code="MODULE_NOT_FOUND",g}var f=o[b]={exports:{}};r[b][0].call(f.exports,function(p){var d=r[b][1][p];return i(d||p)},f,f.exports,e,r,o,n)}return o[b].exports}for(var a=typeof Xe=="function"&&Xe,l=0;l<n.length;l++)i(n[l]);return i}({1:[function(e,r,o){var n=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(l){for(var b,m,v,g,f,p,d,y=[],u=0,k=l.length,S=k,w=n.getTypeOf(l)!=="string";u<l.length;)S=k-u,v=w?(b=l[u++],m=u<k?l[u++]:0,u<k?l[u++]:0):(b=l.charCodeAt(u++),m=u<k?l.charCodeAt(u++):0,u<k?l.charCodeAt(u++):0),g=b>>2,f=(3&b)<<4|m>>4,p=1<S?(15&m)<<2|v>>6:64,d=2<S?63&v:64,y.push(a.charAt(g)+a.charAt(f)+a.charAt(p)+a.charAt(d));return y.join("")},o.decode=function(l){var b,m,v,g,f,p,d=0,y=0,u="data:";if(l.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var k,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&S--,l.charAt(l.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=i.uint8array?new Uint8Array(0|S):new Array(0|S);d<l.length;)b=a.indexOf(l.charAt(d++))<<2|(g=a.indexOf(l.charAt(d++)))>>4,m=(15&g)<<4|(f=a.indexOf(l.charAt(d++)))>>2,v=(3&f)<<6|(p=a.indexOf(l.charAt(d++))),k[y++]=b,f!==64&&(k[y++]=m),p!==64&&(k[y++]=v);return k}},{"./support":30,"./utils":32}],2:[function(e,r,o){var n=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function b(m,v,g,f,p){this.compressedSize=m,this.uncompressedSize=v,this.crc32=g,this.compression=f,this.compressedContent=p}b.prototype={getContentWorker:function(){var m=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(m,v,g){return m.pipe(new a).pipe(new l("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",v)},r.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,o){var n=e("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},o.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,o){var n=e("./utils"),i=function(){for(var a,l=[],b=0;b<256;b++){a=b;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;l[b]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(b,m,v,g){var f=i,p=g+v;b^=-1;for(var d=g;d<p;d++)b=b>>>8^f[255&(b^m[d])];return-1^b}(0|l,a,a.length,0):function(b,m,v,g){var f=i,p=g+v;b^=-1;for(var d=g;d<p;d++)b=b>>>8^f[255&(b^m.charCodeAt(d))];return-1^b}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(e,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(e,r,o){var n=null;n=typeof Promise<"u"?Promise:e("lie"),r.exports={Promise:n}},{lie:37}],7:[function(e,r,o){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=e("pako"),a=e("./utils"),l=e("./stream/GenericWorker"),b=n?"uint8array":"array";function m(v,g){l.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}o.magic="\b\0",a.inherits(m,l),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(b,v.data),!1)},m.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},o.compressWorker=function(v){return new m("Deflate",v)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,o){function n(f,p){var d,y="";for(d=0;d<p;d++)y+=String.fromCharCode(255&f),f>>>=8;return y}function i(f,p,d,y,u,k){var S,w,x=f.file,I=f.compression,E=k!==b.utf8encode,T=a.transformTo("string",k(x.name)),A=a.transformTo("string",b.utf8encode(x.name)),P=x.comment,Z=a.transformTo("string",k(P)),C=a.transformTo("string",b.utf8encode(P)),L=A.length!==x.name.length,h=C.length!==P.length,F="",Y="",N="",V=x.dir,j=x.date,K={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(K.crc32=f.crc32,K.compressedSize=f.compressedSize,K.uncompressedSize=f.uncompressedSize);var D=0;p&&(D|=8),E||!L&&!h||(D|=2048);var O=0,J=0;V&&(O|=16),u==="UNIX"?(J=798,O|=function(G,ue){var he=G;return G||(he=ue?16893:33204),(65535&he)<<16}(x.unixPermissions,V)):(J=20,O|=function(G){return 63&(G||0)}(x.dosPermissions)),S=j.getUTCHours(),S<<=6,S|=j.getUTCMinutes(),S<<=5,S|=j.getUTCSeconds()/2,w=j.getUTCFullYear()-1980,w<<=4,w|=j.getUTCMonth()+1,w<<=5,w|=j.getUTCDate(),L&&(Y=n(1,1)+n(m(T),4)+A,F+="up"+n(Y.length,2)+Y),h&&(N=n(1,1)+n(m(Z),4)+C,F+="uc"+n(N.length,2)+N);var X="";return X+=`
\0`,X+=n(D,2),X+=I.magic,X+=n(S,2),X+=n(w,2),X+=n(K.crc32,4),X+=n(K.compressedSize,4),X+=n(K.uncompressedSize,4),X+=n(T.length,2),X+=n(F.length,2),{fileRecord:v.LOCAL_FILE_HEADER+X+T+F,dirRecord:v.CENTRAL_FILE_HEADER+n(J,2)+X+n(Z.length,2)+"\0\0\0\0"+n(O,4)+n(y,4)+T+F+Z}}var a=e("../utils"),l=e("../stream/GenericWorker"),b=e("../utf8"),m=e("../crc32"),v=e("../signature");function g(f,p,d,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=y,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,l),g.prototype.push=function(f){var p=f.meta.percent||0,d=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-y-1))/d:100}}))},g.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var d=i(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,d=i(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:function(y){return v.DATA_DESCRIPTOR+n(y.crc32,4)+n(y.compressedSize,4)+n(y.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-f,y=function(u,k,S,w,x){var I=a.transformTo("string",x(w));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(u,2)+n(u,2)+n(k,4)+n(S,4)+n(I.length,2)+I}(this.dirRecords.length,d,f,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(d){p.processChunk(d)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(d){p.error(d)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var d=0;d<p.length;d++)try{p[d].error(f)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,o){var n=e("../compressions"),i=e("./ZipFileWorker");o.generateWorker=function(a,l,b){var m=new i(l.streamFiles,b,l.platform,l.encodeFileName),v=0;try{a.forEach(function(g,f){v++;var p=function(k,S){var w=k||S,x=n[w];if(!x)throw new Error(w+" is not a valid compression method !");return x}(f.options.compression,l.compression),d=f.options.compressionOptions||l.compressionOptions||{},y=f.dir,u=f.date;f._compressWorker(p,d).withStreamInfo("file",{name:g,dir:y,date:u,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,o){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new n;for(var a in this)typeof this[a]!="function"&&(i[a]=this[a]);return i}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(i,a){return new n().loadAsync(i,a)},n.external=e("./external"),r.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,o){var n=e("./utils"),i=e("./external"),a=e("./utf8"),l=e("./zipEntries"),b=e("./stream/Crc32Probe"),m=e("./nodejsUtils");function v(g){return new i.Promise(function(f,p){var d=g.decompressed.getContentWorker().pipe(new b);d.on("error",function(y){p(y)}).on("end",function(){d.streamInfo.crc32!==g.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(g,f){var p=this;return f=n.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),m.isNode&&m.isStream(g)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",g,!0,f.optimizedBinaryString,f.base64).then(function(d){var y=new l(f);return y.load(d),y}).then(function(d){var y=[i.Promise.resolve(d)],u=d.files;if(f.checkCRC32)for(var k=0;k<u.length;k++)y.push(v(u[k]));return i.Promise.all(y)}).then(function(d){for(var y=d.shift(),u=y.files,k=0;k<u.length;k++){var S=u[k],w=S.fileNameStr,x=n.resolve(S.fileNameStr);p.file(x,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:f.createFolders}),S.dir||(p.file(x).unsafeOriginalName=w)}return y.zipComment.length&&(p.comment=y.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,o){var n=e("../utils"),i=e("../stream/GenericWorker");function a(l,b){i.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(b)}n.inherits(a,i),a.prototype._bindStream=function(l){var b=this;(this._stream=l).pause(),l.on("data",function(m){b.push({data:m,meta:{percent:0}})}).on("error",function(m){b.isPaused?this.generatedError=m:b.error(m)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,o){var n=e("readable-stream").Readable;function i(a,l,b){n.call(this,l),this._helper=a;var m=this;a.on("data",function(v,g){m.push(v)||m._helper.pause(),b&&b(g)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},r.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,i);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,i)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var i=new Buffer(n);return i.fill(0),i},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,r,o){function n(x,I,E){var T,A=a.getTypeOf(I),P=a.extend(E||{},m);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(x=u(x)),P.createFolders&&(T=y(x))&&k.call(this,T,!0);var Z=A==="string"&&P.binary===!1&&P.base64===!1;E&&E.binary!==void 0||(P.binary=!Z),(I instanceof v&&I.uncompressedSize===0||P.dir||!I||I.length===0)&&(P.base64=!1,P.binary=!0,I="",P.compression="STORE",A="string");var C=null;C=I instanceof v||I instanceof l?I:p.isNode&&p.isStream(I)?new d(x,I):a.prepareContent(x,I,P.binary,P.optimizedBinaryString,P.base64);var L=new g(x,C,P);this.files[x]=L}var i=e("./utf8"),a=e("./utils"),l=e("./stream/GenericWorker"),b=e("./stream/StreamHelper"),m=e("./defaults"),v=e("./compressedObject"),g=e("./zipObject"),f=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),y=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var I=x.lastIndexOf("/");return 0<I?x.substring(0,I):""},u=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},k=function(x,I){return I=I!==void 0?I:m.createFolders,x=u(x),this.files[x]||n.call(this,x,null,{dir:!0,createFolders:I}),this.files[x]};function S(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var I,E,T;for(I in this.files)T=this.files[I],(E=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&x(E,T)},filter:function(x){var I=[];return this.forEach(function(E,T){x(E,T)&&I.push(T)}),I},file:function(x,I,E){if(arguments.length!==1)return x=this.root+x,n.call(this,x,I,E),this;if(S(x)){var T=x;return this.filter(function(P,Z){return!Z.dir&&T.test(P)})}var A=this.files[this.root+x];return A&&!A.dir?A:null},folder:function(x){if(!x)return this;if(S(x))return this.filter(function(A,P){return P.dir&&x.test(A)});var I=this.root+x,E=k.call(this,I),T=this.clone();return T.root=E.name,T},remove:function(x){x=this.root+x;var I=this.files[x];if(I||(x.slice(-1)!=="/"&&(x+="/"),I=this.files[x]),I&&!I.dir)delete this.files[x];else for(var E=this.filter(function(A,P){return P.name.slice(0,x.length)===x}),T=0;T<E.length;T++)delete this.files[E[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var I,E={};try{if((E=a.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var T=E.comment||this.comment||"";I=f.generateWorker(this,E,T)}catch(A){(I=new l("error")).error(A)}return new b(I,E.type||"string",E.mimeType)},generateAsync:function(x,I){return this.generateInternalStream(x).accumulate(I)},generateNodeStream:function(x,I){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(I)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,o){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,o){var n=e("./DataReader");function i(a){n.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}e("../utils").inherits(i,n),i.prototype.byteAt=function(a){return this.data[this.zero+a]},i.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),b=a.charCodeAt(1),m=a.charCodeAt(2),v=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===b&&this.data[g+2]===m&&this.data[g+3]===v)return g-this.zero;return-1},i.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),b=a.charCodeAt(1),m=a.charCodeAt(2),v=a.charCodeAt(3),g=this.readData(4);return l===g[0]&&b===g[1]&&m===g[2]&&v===g[3]},i.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,r,o){var n=e("../utils");function i(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,b=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)b=(b<<8)+this.byteAt(l);return this.index+=a,b},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=i},{"../utils":32}],19:[function(e,r,o){var n=e("./Uint8ArrayReader");function i(a){n.call(this,a)}e("../utils").inherits(i,n),i.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,o){var n=e("./DataReader");function i(a){n.call(this,a)}e("../utils").inherits(i,n),i.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},i.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},i.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},i.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,r,o){var n=e("./ArrayReader");function i(a){n.call(this,a)}e("../utils").inherits(i,n),i.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,o){var n=e("../utils"),i=e("../support"),a=e("./ArrayReader"),l=e("./StringReader"),b=e("./NodeBufferReader"),m=e("./Uint8ArrayReader");r.exports=function(v){var g=n.getTypeOf(v);return n.checkSupport(g),g!=="string"||i.uint8array?g==="nodebuffer"?new b(v):i.uint8array?new m(n.transformTo("uint8array",v)):new a(n.transformTo("array",v)):new l(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,o){var n=e("./GenericWorker"),i=e("../utils");function a(l){n.call(this,"ConvertWorker to "+l),this.destType=l}i.inherits(a,n),a.prototype.processChunk=function(l){this.push({data:i.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,o){var n=e("./GenericWorker"),i=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(l){this.streamInfo.crc32=i(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,o){var n=e("../utils"),i=e("./GenericWorker");function a(l){i.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}n.inherits(a,i),a.prototype.processChunk=function(l){if(l){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+l.data.length}i.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,o){var n=e("../utils"),i=e("./GenericWorker");function a(l){i.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(m){b.dataIsReady=!0,b.data=m,b.max=m&&m.length||0,b.type=n.getTypeOf(m),b.isPaused||b._tickAndRepeat()},function(m){b.error(m)})}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,b);break;case"uint8array":l=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":l=this.data.slice(this.index,b)}return this.index=b,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,o){function n(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,a){return this._listeners[i].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,a){if(this._listeners[i])for(var l=0;l<this._listeners[i].length;l++)this._listeners[i][l].call(this,a)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var a=this;return i.on("data",function(l){a.processChunk(l)}),i.on("end",function(){a.end()}),i.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,a){return this.extraStreamInfo[i]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},r.exports=n},{}],29:[function(e,r,o){var n=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),l=e("../base64"),b=e("../support"),m=e("../external"),v=null;if(b.nodestream)try{v=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(p,d){return new m.Promise(function(y,u){var k=[],S=p._internalType,w=p._outputType,x=p._mimeType;p.on("data",function(I,E){k.push(I),d&&d(E)}).on("error",function(I){k=[],u(I)}).on("end",function(){try{var I=function(E,T,A){switch(E){case"blob":return n.newBlob(n.transformTo("arraybuffer",T),A);case"base64":return l.encode(T);default:return n.transformTo(E,T)}}(w,function(E,T){var A,P=0,Z=null,C=0;for(A=0;A<T.length;A++)C+=T[A].length;switch(E){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(Z=new Uint8Array(C),A=0;A<T.length;A++)Z.set(T[A],P),P+=T[A].length;return Z;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+E+"'")}}(S,k),x);y(I)}catch(E){u(E)}k=[]}).resume()})}function f(p,d,y){var u=d;switch(d){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=d,this._mimeType=y,n.checkSupport(u),this._worker=p.pipe(new i(u)),p.lock()}catch(k){this._worker=new a("error"),this._worker.error(k)}}f.prototype={accumulate:function(p){return g(this,p)},on:function(p,d){var y=this;return p==="data"?this._worker.on(p,function(u){d.call(y,u.data,u.meta)}):this._worker.on(p,function(){n.delay(d,arguments,y)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var n=new ArrayBuffer(0);try{o.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),o.blob=i.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!e("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,o){for(var n=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),l=e("./stream/GenericWorker"),b=new Array(256),m=0;m<256;m++)b[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;b[254]=b[254]=1;function v(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}o.utf8encode=function(f){return i.nodebuffer?a.newBufferFrom(f,"utf-8"):function(p){var d,y,u,k,S,w=p.length,x=0;for(k=0;k<w;k++)(64512&(y=p.charCodeAt(k)))==55296&&k+1<w&&(64512&(u=p.charCodeAt(k+1)))==56320&&(y=65536+(y-55296<<10)+(u-56320),k++),x+=y<128?1:y<2048?2:y<65536?3:4;for(d=i.uint8array?new Uint8Array(x):new Array(x),k=S=0;S<x;k++)(64512&(y=p.charCodeAt(k)))==55296&&k+1<w&&(64512&(u=p.charCodeAt(k+1)))==56320&&(y=65536+(y-55296<<10)+(u-56320),k++),y<128?d[S++]=y:(y<2048?d[S++]=192|y>>>6:(y<65536?d[S++]=224|y>>>12:(d[S++]=240|y>>>18,d[S++]=128|y>>>12&63),d[S++]=128|y>>>6&63),d[S++]=128|63&y);return d}(f)},o.utf8decode=function(f){return i.nodebuffer?n.transformTo("nodebuffer",f).toString("utf-8"):function(p){var d,y,u,k,S=p.length,w=new Array(2*S);for(d=y=0;d<S;)if((u=p[d++])<128)w[y++]=u;else if(4<(k=b[u]))w[y++]=65533,d+=k-1;else{for(u&=k===2?31:k===3?15:7;1<k&&d<S;)u=u<<6|63&p[d++],k--;1<k?w[y++]=65533:u<65536?w[y++]=u:(u-=65536,w[y++]=55296|u>>10&1023,w[y++]=56320|1023&u)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),n.applyFromCharCode(w)}(f=n.transformTo(i.uint8array?"uint8array":"array",f))},n.inherits(v,l),v.prototype.processChunk=function(f){var p=n.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var y=function(k,S){var w;for((S=S||k.length)>k.length&&(S=k.length),w=S-1;0<=w&&(192&k[w])==128;)w--;return w<0||w===0?S:w+b[k[w]]>S?w:S}(p),u=p;y!==p.length&&(i.uint8array?(u=p.subarray(0,y),this.leftOver=p.subarray(y,p.length)):(u=p.slice(0,y),this.leftOver=p.slice(y,p.length))),this.push({data:o.utf8decode(u),meta:f.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=v,n.inherits(g,l),g.prototype.processChunk=function(f){this.push({data:o.utf8encode(f.data),meta:f.meta})},o.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,o){var n=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),l=e("./external");function b(d){return d}function m(d,y){for(var u=0;u<d.length;++u)y[u]=255&d.charCodeAt(u);return y}e("setimmediate"),o.newBlob=function(d,y){o.checkSupport("blob");try{return new Blob([d],{type:y})}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(d),u.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(d,y,u){var k=[],S=0,w=d.length;if(w<=u)return String.fromCharCode.apply(null,d);for(;S<w;)y==="array"||y==="nodebuffer"?k.push(String.fromCharCode.apply(null,d.slice(S,Math.min(S+u,w)))):k.push(String.fromCharCode.apply(null,d.subarray(S,Math.min(S+u,w)))),S+=u;return k.join("")},stringifyByChar:function(d){for(var y="",u=0;u<d.length;u++)y+=String.fromCharCode(d[u]);return y},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function g(d){var y=65536,u=o.getTypeOf(d),k=!0;if(u==="uint8array"?k=v.applyCanBeUsed.uint8array:u==="nodebuffer"&&(k=v.applyCanBeUsed.nodebuffer),k)for(;1<y;)try{return v.stringifyByChunk(d,u,y)}catch{y=Math.floor(y/2)}return v.stringifyByChar(d)}function f(d,y){for(var u=0;u<d.length;u++)y[u]=d[u];return y}o.applyFromCharCode=g;var p={};p.string={string:b,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,a.allocBuffer(d.length))}},p.array={string:g,array:b,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(d)}},p.arraybuffer={string:function(d){return g(new Uint8Array(d))},array:function(d){return f(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:b,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:g,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:b,nodebuffer:function(d){return a.newBufferFrom(d)}},p.nodebuffer={string:g,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return f(d,new Uint8Array(d.length))},nodebuffer:b},o.transformTo=function(d,y){if(y=y||"",!d)return y;o.checkSupport(d);var u=o.getTypeOf(y);return p[u][d](y)},o.resolve=function(d){for(var y=d.split("/"),u=[],k=0;k<y.length;k++){var S=y[k];S==="."||S===""&&k!==0&&k!==y.length-1||(S===".."?u.pop():u.push(S))}return u.join("/")},o.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(d)?"nodebuffer":n.uint8array&&d instanceof Uint8Array?"uint8array":n.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(d){if(!n[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(d){var y,u,k="";for(u=0;u<(d||"").length;u++)k+="\\x"+((y=d.charCodeAt(u))<16?"0":"")+y.toString(16).toUpperCase();return k},o.delay=function(d,y,u){setImmediate(function(){d.apply(u||null,y||[])})},o.inherits=function(d,y){function u(){}u.prototype=y.prototype,d.prototype=new u},o.extend=function(){var d,y,u={};for(d=0;d<arguments.length;d++)for(y in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],y)&&u[y]===void 0&&(u[y]=arguments[d][y]);return u},o.prepareContent=function(d,y,u,k,S){return l.Promise.resolve(y).then(function(w){return n.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(x,I){var E=new FileReader;E.onload=function(T){x(T.target.result)},E.onerror=function(T){I(T.target.error)},E.readAsArrayBuffer(w)}):w}).then(function(w){var x=o.getTypeOf(w);return x?(x==="arraybuffer"?w=o.transformTo("uint8array",w):x==="string"&&(S?w=i.decode(w):u&&k!==!0&&(w=function(I){return m(I,n.uint8array?new Uint8Array(I.length):new Array(I.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,o){var n=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),l=e("./zipEntry"),b=e("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(g)+", expected "+i.pretty(v)+")")}},isSignature:function(v,g){var f=this.reader.index;this.reader.setIndex(v);var p=this.reader.readString(4)===g;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=b.uint8array?"uint8array":"array",f=i.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,f,p=this.zip64EndOfCentralSize-44;0<p;)v=this.reader.readInt(2),g=this.reader.readInt(4),f=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(v=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=g-f;if(0<p)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(v){this.reader=n(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,o){var n=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),l=e("./crc32"),b=e("./utf8"),m=e("./compressions"),v=e("./support");function g(f,p){this.options=f,this.loadOptions=p}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,d;if(f.skip(22),this.fileNameLength=f.readInt(2),d=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(y){for(var u in m)if(Object.prototype.hasOwnProperty.call(m,u)&&m[u].magic===y)return m[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,d,y,u=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<u;)p=f.readInt(2),d=f.readInt(2),y=f.readData(d),this.extraFields[p]={id:p,length:d,value:y};f.setIndex(u)},handleUTF8:function(){var f=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var u=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=n(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:b.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=n(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:b.utf8decode(p.readData(f.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,o){function n(p,d,y){this.name=p,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=d,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),l=e("./utf8"),b=e("./compressedObject"),m=e("./stream/GenericWorker");n.prototype={internalStream:function(p){var d=null,y="string";try{if(!p)throw new Error("No output type specified.");var u=(y=p.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),d=this._decompressWorker();var k=!this._dataBinary;k&&!u&&(d=d.pipe(new l.Utf8EncodeWorker)),!k&&u&&(d=d.pipe(new l.Utf8DecodeWorker))}catch(S){(d=new m("error")).error(S)}return new i(d,y,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof b&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),b.createWorkerFrom(y,p,d)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof m?this._data:new a(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<v.length;f++)n.prototype[v[f]]=g;r.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,o){(function(n){var i,a,l=n.MutationObserver||n.WebKitMutationObserver;if(l){var b=0,m=new l(p),v=n.document.createTextNode("");m.observe(v,{characterData:!0}),i=function(){v.data=b=++b%2}}else if(n.setImmediate||n.MessageChannel===void 0)i="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var d=n.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},n.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var g=new n.MessageChannel;g.port1.onmessage=p,i=function(){g.port2.postMessage(0)}}var f=[];function p(){var d,y;a=!0;for(var u=f.length;u;){for(y=f,f=[],d=-1;++d<u;)y[d]();u=f.length}a=!1}r.exports=function(d){f.push(d)!==1||a||i()}}).call(this,typeof Ye<"u"?Ye:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,o){var n=e("immediate");function i(){}var a={},l=["REJECTED"],b=["FULFILLED"],m=["PENDING"];function v(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,u!==i&&d(this,u)}function g(u,k,S){this.promise=u,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function f(u,k,S){n(function(){var w;try{w=k(S)}catch(x){return a.reject(u,x)}w===u?a.reject(u,new TypeError("Cannot resolve promise with itself")):a.resolve(u,w)})}function p(u){var k=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof k=="function")return function(){k.apply(u,arguments)}}function d(u,k){var S=!1;function w(E){S||(S=!0,a.reject(u,E))}function x(E){S||(S=!0,a.resolve(u,E))}var I=y(function(){k(x,w)});I.status==="error"&&w(I.value)}function y(u,k){var S={};try{S.value=u(k),S.status="success"}catch(w){S.status="error",S.value=w}return S}(r.exports=v).prototype.finally=function(u){if(typeof u!="function")return this;var k=this.constructor;return this.then(function(S){return k.resolve(u()).then(function(){return S})},function(S){return k.resolve(u()).then(function(){throw S})})},v.prototype.catch=function(u){return this.then(null,u)},v.prototype.then=function(u,k){if(typeof u!="function"&&this.state===b||typeof k!="function"&&this.state===l)return this;var S=new this.constructor(i);return this.state!==m?f(S,this.state===b?u:k,this.outcome):this.queue.push(new g(S,u,k)),S},g.prototype.callFulfilled=function(u){a.resolve(this.promise,u)},g.prototype.otherCallFulfilled=function(u){f(this.promise,this.onFulfilled,u)},g.prototype.callRejected=function(u){a.reject(this.promise,u)},g.prototype.otherCallRejected=function(u){f(this.promise,this.onRejected,u)},a.resolve=function(u,k){var S=y(p,k);if(S.status==="error")return a.reject(u,S.value);var w=S.value;if(w)d(u,w);else{u.state=b,u.outcome=k;for(var x=-1,I=u.queue.length;++x<I;)u.queue[x].callFulfilled(k)}return u},a.reject=function(u,k){u.state=l,u.outcome=k;for(var S=-1,w=u.queue.length;++S<w;)u.queue[S].callRejected(k);return u},v.resolve=function(u){return u instanceof this?u:a.resolve(new this(i),u)},v.reject=function(u){var k=new this(i);return a.reject(k,u)},v.all=function(u){var k=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=u.length,w=!1;if(!S)return this.resolve([]);for(var x=new Array(S),I=0,E=-1,T=new this(i);++E<S;)A(u[E],E);return T;function A(P,Z){k.resolve(P).then(function(C){x[Z]=C,++I!==S||w||(w=!0,a.resolve(T,x))},function(C){w||(w=!0,a.reject(T,C))})}},v.race=function(u){var k=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=u.length,w=!1;if(!S)return this.resolve([]);for(var x=-1,I=new this(i);++x<S;)E=u[x],k.resolve(E).then(function(T){w||(w=!0,a.resolve(I,T))},function(T){w||(w=!0,a.reject(I,T))});var E;return I}},{immediate:36}],38:[function(e,r,o){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,o){var n=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/messages"),b=e("./zlib/zstream"),m=Object.prototype.toString,v=0,g=-1,f=0,p=8;function d(u){if(!(this instanceof d))return new d(u);this.options=i.assign({level:g,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},u||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(S!==v)throw new Error(l[S]);if(k.header&&n.deflateSetHeader(this.strm,k.header),k.dictionary){var w;if(w=typeof k.dictionary=="string"?a.string2buf(k.dictionary):m.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(S=n.deflateSetDictionary(this.strm,w))!==v)throw new Error(l[S]);this._dict_set=!0}}function y(u,k){var S=new d(k);if(S.push(u,!0),S.err)throw S.msg||l[S.err];return S.result}d.prototype.push=function(u,k){var S,w,x=this.strm,I=this.options.chunkSize;if(this.ended)return!1;w=k===~~k?k:k===!0?4:0,typeof u=="string"?x.input=a.string2buf(u):m.call(u)==="[object ArrayBuffer]"?x.input=new Uint8Array(u):x.input=u,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new i.Buf8(I),x.next_out=0,x.avail_out=I),(S=n.deflate(x,w))!==1&&S!==v)return this.onEnd(S),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(i.shrinkBuf(x.output,x.next_out))):this.onData(i.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&S!==1);return w===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===v):w!==2||(this.onEnd(v),!(x.avail_out=0))},d.prototype.onData=function(u){this.chunks.push(u)},d.prototype.onEnd=function(u){u===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},o.Deflate=d,o.deflate=y,o.deflateRaw=function(u,k){return(k=k||{}).raw=!0,y(u,k)},o.gzip=function(u,k){return(k=k||{}).gzip=!0,y(u,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,o){var n=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/constants"),b=e("./zlib/messages"),m=e("./zlib/zstream"),v=e("./zlib/gzheader"),g=Object.prototype.toString;function f(d){if(!(this instanceof f))return new f(d);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},d||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||d&&d.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var u=n.inflateInit2(this.strm,y.windowBits);if(u!==l.Z_OK)throw new Error(b[u]);this.header=new v,n.inflateGetHeader(this.strm,this.header)}function p(d,y){var u=new f(y);if(u.push(d,!0),u.err)throw u.msg||b[u.err];return u.result}f.prototype.push=function(d,y){var u,k,S,w,x,I,E=this.strm,T=this.options.chunkSize,A=this.options.dictionary,P=!1;if(this.ended)return!1;k=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof d=="string"?E.input=a.binstring2buf(d):g.call(d)==="[object ArrayBuffer]"?E.input=new Uint8Array(d):E.input=d,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new i.Buf8(T),E.next_out=0,E.avail_out=T),(u=n.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&A&&(I=typeof A=="string"?a.string2buf(A):g.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,u=n.inflateSetDictionary(this.strm,I)),u===l.Z_BUF_ERROR&&P===!0&&(u=l.Z_OK,P=!1),u!==l.Z_STREAM_END&&u!==l.Z_OK)return this.onEnd(u),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&u!==l.Z_STREAM_END&&(E.avail_in!==0||k!==l.Z_FINISH&&k!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(E.output,E.next_out),w=E.next_out-S,x=a.buf2string(E.output,S),E.next_out=w,E.avail_out=T-w,w&&i.arraySet(E.output,E.output,S,w,0),this.onData(x)):this.onData(i.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(P=!0)}while((0<E.avail_in||E.avail_out===0)&&u!==l.Z_STREAM_END);return u===l.Z_STREAM_END&&(k=l.Z_FINISH),k===l.Z_FINISH?(u=n.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===l.Z_OK):k!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},o.Inflate=f,o.inflate=p,o.inflateRaw=function(d,y){return(y=y||{}).raw=!0,p(d,y)},o.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,o){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(l){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var m=b.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(l[v]=m[v])}}return l},o.shrinkBuf=function(l,b){return l.length===b?l:l.subarray?l.subarray(0,b):(l.length=b,l)};var i={arraySet:function(l,b,m,v,g){if(b.subarray&&l.subarray)l.set(b.subarray(m,m+v),g);else for(var f=0;f<v;f++)l[g+f]=b[m+f]},flattenChunks:function(l){var b,m,v,g,f,p;for(b=v=0,m=l.length;b<m;b++)v+=l[b].length;for(p=new Uint8Array(v),b=g=0,m=l.length;b<m;b++)f=l[b],p.set(f,g),g+=f.length;return p}},a={arraySet:function(l,b,m,v,g){for(var f=0;f<v;f++)l[g+f]=b[m+f]},flattenChunks:function(l){return[].concat.apply([],l)}};o.setTyped=function(l){l?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,i)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(n)},{}],42:[function(e,r,o){var n=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new n.Buf8(256),b=0;b<256;b++)l[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function m(v,g){if(g<65537&&(v.subarray&&a||!v.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(v,g));for(var f="",p=0;p<g;p++)f+=String.fromCharCode(v[p]);return f}l[254]=l[254]=1,o.string2buf=function(v){var g,f,p,d,y,u=v.length,k=0;for(d=0;d<u;d++)(64512&(f=v.charCodeAt(d)))==55296&&d+1<u&&(64512&(p=v.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),k+=f<128?1:f<2048?2:f<65536?3:4;for(g=new n.Buf8(k),d=y=0;y<k;d++)(64512&(f=v.charCodeAt(d)))==55296&&d+1<u&&(64512&(p=v.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),f<128?g[y++]=f:(f<2048?g[y++]=192|f>>>6:(f<65536?g[y++]=224|f>>>12:(g[y++]=240|f>>>18,g[y++]=128|f>>>12&63),g[y++]=128|f>>>6&63),g[y++]=128|63&f);return g},o.buf2binstring=function(v){return m(v,v.length)},o.binstring2buf=function(v){for(var g=new n.Buf8(v.length),f=0,p=g.length;f<p;f++)g[f]=v.charCodeAt(f);return g},o.buf2string=function(v,g){var f,p,d,y,u=g||v.length,k=new Array(2*u);for(f=p=0;f<u;)if((d=v[f++])<128)k[p++]=d;else if(4<(y=l[d]))k[p++]=65533,f+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&f<u;)d=d<<6|63&v[f++],y--;1<y?k[p++]=65533:d<65536?k[p++]=d:(d-=65536,k[p++]=55296|d>>10&1023,k[p++]=56320|1023&d)}return m(k,p)},o.utf8border=function(v,g){var f;for((g=g||v.length)>v.length&&(g=v.length),f=g-1;0<=f&&(192&v[f])==128;)f--;return f<0||f===0?g:f+l[v[f]]>g?f:g}},{"./common":41}],43:[function(e,r,o){r.exports=function(n,i,a,l){for(var b=65535&n|0,m=n>>>16&65535|0,v=0;a!==0;){for(a-=v=2e3<a?2e3:a;m=m+(b=b+i[l++]|0)|0,--v;);b%=65521,m%=65521}return b|m<<16|0}},{}],44:[function(e,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,o){var n=function(){for(var i,a=[],l=0;l<256;l++){i=l;for(var b=0;b<8;b++)i=1&i?3988292384^i>>>1:i>>>1;a[l]=i}return a}();r.exports=function(i,a,l,b){var m=n,v=b+l;i^=-1;for(var g=b;g<v;g++)i=i>>>8^m[255&(i^a[g])];return-1^i}},{}],46:[function(e,r,o){var n,i=e("../utils/common"),a=e("./trees"),l=e("./adler32"),b=e("./crc32"),m=e("./messages"),v=0,g=4,f=0,p=-2,d=-1,y=4,u=2,k=8,S=9,w=286,x=30,I=19,E=2*w+1,T=15,A=3,P=258,Z=P+A+1,C=42,L=113,h=1,F=2,Y=3,N=4;function V(s,M){return s.msg=m[M],M}function j(s){return(s<<1)-(4<s?9:0)}function K(s){for(var M=s.length;0<=--M;)s[M]=0}function D(s){var M=s.state,U=M.pending;U>s.avail_out&&(U=s.avail_out),U!==0&&(i.arraySet(s.output,M.pending_buf,M.pending_out,U,s.next_out),s.next_out+=U,M.pending_out+=U,s.total_out+=U,s.avail_out-=U,M.pending-=U,M.pending===0&&(M.pending_out=0))}function O(s,M){a._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,M),s.block_start=s.strstart,D(s.strm)}function J(s,M){s.pending_buf[s.pending++]=M}function X(s,M){s.pending_buf[s.pending++]=M>>>8&255,s.pending_buf[s.pending++]=255&M}function G(s,M){var U,R,_=s.max_chain_length,z=s.strstart,W=s.prev_length,$=s.nice_match,B=s.strstart>s.w_size-Z?s.strstart-(s.w_size-Z):0,q=s.window,Q=s.w_mask,H=s.prev,te=s.strstart+P,de=q[z+W-1],oe=q[z+W];s.prev_length>=s.good_match&&(_>>=2),$>s.lookahead&&($=s.lookahead);do if(q[(U=M)+W]===oe&&q[U+W-1]===de&&q[U]===q[z]&&q[++U]===q[z+1]){z+=2,U++;do;while(q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&q[++z]===q[++U]&&z<te);if(R=P-(te-z),z=te-P,W<R){if(s.match_start=M,$<=(W=R))break;de=q[z+W-1],oe=q[z+W]}}while((M=H[M&Q])>B&&--_!=0);return W<=s.lookahead?W:s.lookahead}function ue(s){var M,U,R,_,z,W,$,B,q,Q,H=s.w_size;do{if(_=s.window_size-s.lookahead-s.strstart,s.strstart>=H+(H-Z)){for(i.arraySet(s.window,s.window,H,H,0),s.match_start-=H,s.strstart-=H,s.block_start-=H,M=U=s.hash_size;R=s.head[--M],s.head[M]=H<=R?R-H:0,--U;);for(M=U=H;R=s.prev[--M],s.prev[M]=H<=R?R-H:0,--U;);_+=H}if(s.strm.avail_in===0)break;if(W=s.strm,$=s.window,B=s.strstart+s.lookahead,q=_,Q=void 0,Q=W.avail_in,q<Q&&(Q=q),U=Q===0?0:(W.avail_in-=Q,i.arraySet($,W.input,W.next_in,Q,B),W.state.wrap===1?W.adler=l(W.adler,$,Q,B):W.state.wrap===2&&(W.adler=b(W.adler,$,Q,B)),W.next_in+=Q,W.total_in+=Q,Q),s.lookahead+=U,s.lookahead+s.insert>=A)for(z=s.strstart-s.insert,s.ins_h=s.window[z],s.ins_h=(s.ins_h<<s.hash_shift^s.window[z+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[z+A-1])&s.hash_mask,s.prev[z&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=z,z++,s.insert--,!(s.lookahead+s.insert<A)););}while(s.lookahead<Z&&s.strm.avail_in!==0)}function he(s,M){for(var U,R;;){if(s.lookahead<Z){if(ue(s),s.lookahead<Z&&M===v)return h;if(s.lookahead===0)break}if(U=0,s.lookahead>=A&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,U=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),U!==0&&s.strstart-U<=s.w_size-Z&&(s.match_length=G(s,U)),s.match_length>=A)if(R=a._tr_tally(s,s.strstart-s.match_start,s.match_length-A),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=A){for(s.match_length--;s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,U=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,--s.match_length!=0;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else R=a._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(R&&(O(s,!1),s.strm.avail_out===0))return h}return s.insert=s.strstart<A-1?s.strstart:A-1,M===g?(O(s,!0),s.strm.avail_out===0?Y:N):s.last_lit&&(O(s,!1),s.strm.avail_out===0)?h:F}function re(s,M){for(var U,R,_;;){if(s.lookahead<Z){if(ue(s),s.lookahead<Z&&M===v)return h;if(s.lookahead===0)break}if(U=0,s.lookahead>=A&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,U=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=A-1,U!==0&&s.prev_length<s.max_lazy_match&&s.strstart-U<=s.w_size-Z&&(s.match_length=G(s,U),s.match_length<=5&&(s.strategy===1||s.match_length===A&&4096<s.strstart-s.match_start)&&(s.match_length=A-1)),s.prev_length>=A&&s.match_length<=s.prev_length){for(_=s.strstart+s.lookahead-A,R=a._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-A),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=_&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,U=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),--s.prev_length!=0;);if(s.match_available=0,s.match_length=A-1,s.strstart++,R&&(O(s,!1),s.strm.avail_out===0))return h}else if(s.match_available){if((R=a._tr_tally(s,0,s.window[s.strstart-1]))&&O(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return h}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(R=a._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<A-1?s.strstart:A-1,M===g?(O(s,!0),s.strm.avail_out===0?Y:N):s.last_lit&&(O(s,!1),s.strm.avail_out===0)?h:F}function ae(s,M,U,R,_){this.good_length=s,this.max_lazy=M,this.nice_length=U,this.max_chain=R,this.func=_}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*x+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(T+1),this.heap=new i.Buf16(2*w+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*w+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(s){var M;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=u,(M=s.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?C:L,s.adler=M.wrap===2?0:1,M.last_flush=v,a._tr_init(M),f):V(s,p)}function ve(s){var M=fe(s);return M===f&&function(U){U.window_size=2*U.w_size,K(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=A-1,U.match_available=0,U.ins_h=0}(s.state),M}function be(s,M,U,R,_,z){if(!s)return p;var W=1;if(M===d&&(M=6),R<0?(W=0,R=-R):15<R&&(W=2,R-=16),_<1||S<_||U!==k||R<8||15<R||M<0||9<M||z<0||y<z)return V(s,p);R===8&&(R=9);var $=new ie;return(s.state=$).strm=s,$.wrap=W,$.gzhead=null,$.w_bits=R,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=_+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+A-1)/A),$.window=new i.Buf8(2*$.w_size),$.head=new i.Buf16($.hash_size),$.prev=new i.Buf16($.w_size),$.lit_bufsize=1<<_+6,$.pending_buf_size=4*$.lit_bufsize,$.pending_buf=new i.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=M,$.strategy=z,$.method=U,ve(s)}n=[new ae(0,0,0,0,function(s,M){var U=65535;for(U>s.pending_buf_size-5&&(U=s.pending_buf_size-5);;){if(s.lookahead<=1){if(ue(s),s.lookahead===0&&M===v)return h;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var R=s.block_start+U;if((s.strstart===0||s.strstart>=R)&&(s.lookahead=s.strstart-R,s.strstart=R,O(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-Z&&(O(s,!1),s.strm.avail_out===0))return h}return s.insert=0,M===g?(O(s,!0),s.strm.avail_out===0?Y:N):(s.strstart>s.block_start&&(O(s,!1),s.strm.avail_out),h)}),new ae(4,4,8,4,he),new ae(4,5,16,8,he),new ae(4,6,32,32,he),new ae(4,4,16,16,re),new ae(8,16,32,32,re),new ae(8,16,128,128,re),new ae(8,32,128,256,re),new ae(32,128,258,1024,re),new ae(32,258,258,4096,re)],o.deflateInit=function(s,M){return be(s,M,k,15,8,0)},o.deflateInit2=be,o.deflateReset=ve,o.deflateResetKeep=fe,o.deflateSetHeader=function(s,M){return s&&s.state?s.state.wrap!==2?p:(s.state.gzhead=M,f):p},o.deflate=function(s,M){var U,R,_,z;if(!s||!s.state||5<M||M<0)return s?V(s,p):p;if(R=s.state,!s.output||!s.input&&s.avail_in!==0||R.status===666&&M!==g)return V(s,s.avail_out===0?-5:p);if(R.strm=s,U=R.last_flush,R.last_flush=M,R.status===C)if(R.wrap===2)s.adler=0,J(R,31),J(R,139),J(R,8),R.gzhead?(J(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),J(R,255&R.gzhead.time),J(R,R.gzhead.time>>8&255),J(R,R.gzhead.time>>16&255),J(R,R.gzhead.time>>24&255),J(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),J(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(J(R,255&R.gzhead.extra.length),J(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(s.adler=b(s.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(J(R,0),J(R,0),J(R,0),J(R,0),J(R,0),J(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),J(R,3),R.status=L);else{var W=k+(R.w_bits-8<<4)<<8;W|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(W|=32),W+=31-W%31,R.status=L,X(R,W),R.strstart!==0&&(X(R,s.adler>>>16),X(R,65535&s.adler)),s.adler=1}if(R.status===69)if(R.gzhead.extra){for(_=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),D(s),_=R.pending,R.pending!==R.pending_buf_size));)J(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){_=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),D(s),_=R.pending,R.pending===R.pending_buf_size)){z=1;break}z=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,J(R,z)}while(z!==0);R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),z===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){_=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),D(s),_=R.pending,R.pending===R.pending_buf_size)){z=1;break}z=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,J(R,z)}while(z!==0);R.gzhead.hcrc&&R.pending>_&&(s.adler=b(s.adler,R.pending_buf,R.pending-_,_)),z===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&D(s),R.pending+2<=R.pending_buf_size&&(J(R,255&s.adler),J(R,s.adler>>8&255),s.adler=0,R.status=L)):R.status=L),R.pending!==0){if(D(s),s.avail_out===0)return R.last_flush=-1,f}else if(s.avail_in===0&&j(M)<=j(U)&&M!==g)return V(s,-5);if(R.status===666&&s.avail_in!==0)return V(s,-5);if(s.avail_in!==0||R.lookahead!==0||M!==v&&R.status!==666){var $=R.strategy===2?function(B,q){for(var Q;;){if(B.lookahead===0&&(ue(B),B.lookahead===0)){if(q===v)return h;break}if(B.match_length=0,Q=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,Q&&(O(B,!1),B.strm.avail_out===0))return h}return B.insert=0,q===g?(O(B,!0),B.strm.avail_out===0?Y:N):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?h:F}(R,M):R.strategy===3?function(B,q){for(var Q,H,te,de,oe=B.window;;){if(B.lookahead<=P){if(ue(B),B.lookahead<=P&&q===v)return h;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=A&&0<B.strstart&&(H=oe[te=B.strstart-1])===oe[++te]&&H===oe[++te]&&H===oe[++te]){de=B.strstart+P;do;while(H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&H===oe[++te]&&te<de);B.match_length=P-(de-te),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=A?(Q=a._tr_tally(B,1,B.match_length-A),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(Q=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),Q&&(O(B,!1),B.strm.avail_out===0))return h}return B.insert=0,q===g?(O(B,!0),B.strm.avail_out===0?Y:N):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?h:F}(R,M):n[R.level].func(R,M);if($!==Y&&$!==N||(R.status=666),$===h||$===Y)return s.avail_out===0&&(R.last_flush=-1),f;if($===F&&(M===1?a._tr_align(R):M!==5&&(a._tr_stored_block(R,0,0,!1),M===3&&(K(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),D(s),s.avail_out===0))return R.last_flush=-1,f}return M!==g?f:R.wrap<=0?1:(R.wrap===2?(J(R,255&s.adler),J(R,s.adler>>8&255),J(R,s.adler>>16&255),J(R,s.adler>>24&255),J(R,255&s.total_in),J(R,s.total_in>>8&255),J(R,s.total_in>>16&255),J(R,s.total_in>>24&255)):(X(R,s.adler>>>16),X(R,65535&s.adler)),D(s),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?f:1)},o.deflateEnd=function(s){var M;return s&&s.state?(M=s.state.status)!==C&&M!==69&&M!==73&&M!==91&&M!==103&&M!==L&&M!==666?V(s,p):(s.state=null,M===L?V(s,-3):f):p},o.deflateSetDictionary=function(s,M){var U,R,_,z,W,$,B,q,Q=M.length;if(!s||!s.state||(z=(U=s.state).wrap)===2||z===1&&U.status!==C||U.lookahead)return p;for(z===1&&(s.adler=l(s.adler,M,Q,0)),U.wrap=0,Q>=U.w_size&&(z===0&&(K(U.head),U.strstart=0,U.block_start=0,U.insert=0),q=new i.Buf8(U.w_size),i.arraySet(q,M,Q-U.w_size,U.w_size,0),M=q,Q=U.w_size),W=s.avail_in,$=s.next_in,B=s.input,s.avail_in=Q,s.next_in=0,s.input=M,ue(U);U.lookahead>=A;){for(R=U.strstart,_=U.lookahead-(A-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[R+A-1])&U.hash_mask,U.prev[R&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=R,R++,--_;);U.strstart=R,U.lookahead=A-1,ue(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=A-1,U.match_available=0,s.next_in=$,s.input=B,s.avail_in=W,U.wrap=z,f},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,o){r.exports=function(n,i){var a,l,b,m,v,g,f,p,d,y,u,k,S,w,x,I,E,T,A,P,Z,C,L,h,F;a=n.state,l=n.next_in,h=n.input,b=l+(n.avail_in-5),m=n.next_out,F=n.output,v=m-(i-n.avail_out),g=m+(n.avail_out-257),f=a.dmax,p=a.wsize,d=a.whave,y=a.wnext,u=a.window,k=a.hold,S=a.bits,w=a.lencode,x=a.distcode,I=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{S<15&&(k+=h[l++]<<S,S+=8,k+=h[l++]<<S,S+=8),T=w[k&I];t:for(;;){if(k>>>=A=T>>>24,S-=A,(A=T>>>16&255)===0)F[m++]=65535&T;else{if(!(16&A)){if(!(64&A)){T=w[(65535&T)+(k&(1<<A)-1)];continue t}if(32&A){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}P=65535&T,(A&=15)&&(S<A&&(k+=h[l++]<<S,S+=8),P+=k&(1<<A)-1,k>>>=A,S-=A),S<15&&(k+=h[l++]<<S,S+=8,k+=h[l++]<<S,S+=8),T=x[k&E];n:for(;;){if(k>>>=A=T>>>24,S-=A,!(16&(A=T>>>16&255))){if(!(64&A)){T=x[(65535&T)+(k&(1<<A)-1)];continue n}n.msg="invalid distance code",a.mode=30;break e}if(Z=65535&T,S<(A&=15)&&(k+=h[l++]<<S,(S+=8)<A&&(k+=h[l++]<<S,S+=8)),f<(Z+=k&(1<<A)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(k>>>=A,S-=A,(A=m-v)<Z){if(d<(A=Z-A)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(L=u,(C=0)===y){if(C+=p-A,A<P){for(P-=A;F[m++]=u[C++],--A;);C=m-Z,L=F}}else if(y<A){if(C+=p+y-A,(A-=y)<P){for(P-=A;F[m++]=u[C++],--A;);if(C=0,y<P){for(P-=A=y;F[m++]=u[C++],--A;);C=m-Z,L=F}}}else if(C+=y-A,A<P){for(P-=A;F[m++]=u[C++],--A;);C=m-Z,L=F}for(;2<P;)F[m++]=L[C++],F[m++]=L[C++],F[m++]=L[C++],P-=3;P&&(F[m++]=L[C++],1<P&&(F[m++]=L[C++]))}else{for(C=m-Z;F[m++]=F[C++],F[m++]=F[C++],F[m++]=F[C++],2<(P-=3););P&&(F[m++]=F[C++],1<P&&(F[m++]=F[C++]))}break}}break}}while(l<b&&m<g);l-=P=S>>3,k&=(1<<(S-=P<<3))-1,n.next_in=l,n.next_out=m,n.avail_in=l<b?b-l+5:5-(l-b),n.avail_out=m<g?g-m+257:257-(m-g),a.hold=k,a.bits=S}},{}],49:[function(e,r,o){var n=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),l=e("./inffast"),b=e("./inftrees"),m=1,v=2,g=0,f=-2,p=1,d=852,y=592;function u(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(C){var L;return C&&C.state?(L=C.state,C.total_in=C.total_out=L.total=0,C.msg="",L.wrap&&(C.adler=1&L.wrap),L.mode=p,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new n.Buf32(d),L.distcode=L.distdyn=new n.Buf32(y),L.sane=1,L.back=-1,g):f}function w(C){var L;return C&&C.state?((L=C.state).wsize=0,L.whave=0,L.wnext=0,S(C)):f}function x(C,L){var h,F;return C&&C.state?(F=C.state,L<0?(h=0,L=-L):(h=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?f:(F.window!==null&&F.wbits!==L&&(F.window=null),F.wrap=h,F.wbits=L,w(C))):f}function I(C,L){var h,F;return C?(F=new k,(C.state=F).window=null,(h=x(C,L))!==g&&(C.state=null),h):f}var E,T,A=!0;function P(C){if(A){var L;for(E=new n.Buf32(512),T=new n.Buf32(32),L=0;L<144;)C.lens[L++]=8;for(;L<256;)C.lens[L++]=9;for(;L<280;)C.lens[L++]=7;for(;L<288;)C.lens[L++]=8;for(b(m,C.lens,0,288,E,0,C.work,{bits:9}),L=0;L<32;)C.lens[L++]=5;b(v,C.lens,0,32,T,0,C.work,{bits:5}),A=!1}C.lencode=E,C.lenbits=9,C.distcode=T,C.distbits=5}function Z(C,L,h,F){var Y,N=C.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new n.Buf8(N.wsize)),F>=N.wsize?(n.arraySet(N.window,L,h-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(F<(Y=N.wsize-N.wnext)&&(Y=F),n.arraySet(N.window,L,h-F,Y,N.wnext),(F-=Y)?(n.arraySet(N.window,L,h-F,F,0),N.wnext=F,N.whave=N.wsize):(N.wnext+=Y,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=Y))),0}o.inflateReset=w,o.inflateReset2=x,o.inflateResetKeep=S,o.inflateInit=function(C){return I(C,15)},o.inflateInit2=I,o.inflate=function(C,L){var h,F,Y,N,V,j,K,D,O,J,X,G,ue,he,re,ae,ie,fe,ve,be,s,M,U,R,_=0,z=new n.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return f;(h=C.state).mode===12&&(h.mode=13),V=C.next_out,Y=C.output,K=C.avail_out,N=C.next_in,F=C.input,j=C.avail_in,D=h.hold,O=h.bits,J=j,X=K,M=g;e:for(;;)switch(h.mode){case p:if(h.wrap===0){h.mode=13;break}for(;O<16;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(2&h.wrap&&D===35615){z[h.check=0]=255&D,z[1]=D>>>8&255,h.check=a(h.check,z,2,0),O=D=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&D)<<8)+(D>>8))%31){C.msg="incorrect header check",h.mode=30;break}if((15&D)!=8){C.msg="unknown compression method",h.mode=30;break}if(O-=4,s=8+(15&(D>>>=4)),h.wbits===0)h.wbits=s;else if(s>h.wbits){C.msg="invalid window size",h.mode=30;break}h.dmax=1<<s,C.adler=h.check=1,h.mode=512&D?10:12,O=D=0;break;case 2:for(;O<16;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(h.flags=D,(255&h.flags)!=8){C.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){C.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=D>>8&1),512&h.flags&&(z[0]=255&D,z[1]=D>>>8&255,h.check=a(h.check,z,2,0)),O=D=0,h.mode=3;case 3:for(;O<32;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.head&&(h.head.time=D),512&h.flags&&(z[0]=255&D,z[1]=D>>>8&255,z[2]=D>>>16&255,z[3]=D>>>24&255,h.check=a(h.check,z,4,0)),O=D=0,h.mode=4;case 4:for(;O<16;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.head&&(h.head.xflags=255&D,h.head.os=D>>8),512&h.flags&&(z[0]=255&D,z[1]=D>>>8&255,h.check=a(h.check,z,2,0)),O=D=0,h.mode=5;case 5:if(1024&h.flags){for(;O<16;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.length=D,h.head&&(h.head.extra_len=D),512&h.flags&&(z[0]=255&D,z[1]=D>>>8&255,h.check=a(h.check,z,2,0)),O=D=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(j<(G=h.length)&&(G=j),G&&(h.head&&(s=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),n.arraySet(h.head.extra,F,N,G,s)),512&h.flags&&(h.check=a(h.check,F,G,N)),j-=G,N+=G,h.length-=G),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(j===0)break e;for(G=0;s=F[N+G++],h.head&&s&&h.length<65536&&(h.head.name+=String.fromCharCode(s)),s&&G<j;);if(512&h.flags&&(h.check=a(h.check,F,G,N)),j-=G,N+=G,s)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(j===0)break e;for(G=0;s=F[N+G++],h.head&&s&&h.length<65536&&(h.head.comment+=String.fromCharCode(s)),s&&G<j;);if(512&h.flags&&(h.check=a(h.check,F,G,N)),j-=G,N+=G,s)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;O<16;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(D!==(65535&h.check)){C.msg="header crc mismatch",h.mode=30;break}O=D=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),C.adler=h.check=0,h.mode=12;break;case 10:for(;O<32;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}C.adler=h.check=u(D),O=D=0,h.mode=11;case 11:if(h.havedict===0)return C.next_out=V,C.avail_out=K,C.next_in=N,C.avail_in=j,h.hold=D,h.bits=O,2;C.adler=h.check=1,h.mode=12;case 12:if(L===5||L===6)break e;case 13:if(h.last){D>>>=7&O,O-=7&O,h.mode=27;break}for(;O<3;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}switch(h.last=1&D,O-=1,3&(D>>>=1)){case 0:h.mode=14;break;case 1:if(P(h),h.mode=20,L!==6)break;D>>>=2,O-=2;break e;case 2:h.mode=17;break;case 3:C.msg="invalid block type",h.mode=30}D>>>=2,O-=2;break;case 14:for(D>>>=7&O,O-=7&O;O<32;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if((65535&D)!=(D>>>16^65535)){C.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&D,O=D=0,h.mode=15,L===6)break e;case 15:h.mode=16;case 16:if(G=h.length){if(j<G&&(G=j),K<G&&(G=K),G===0)break e;n.arraySet(Y,F,N,G,V),j-=G,N+=G,K-=G,V+=G,h.length-=G;break}h.mode=12;break;case 17:for(;O<14;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(h.nlen=257+(31&D),D>>>=5,O-=5,h.ndist=1+(31&D),D>>>=5,O-=5,h.ncode=4+(15&D),D>>>=4,O-=4,286<h.nlen||30<h.ndist){C.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;O<3;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.lens[W[h.have++]]=7&D,D>>>=3,O-=3}for(;h.have<19;)h.lens[W[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,U={bits:h.lenbits},M=b(0,h.lens,0,19,h.lencode,0,h.work,U),h.lenbits=U.bits,M){C.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;ae=(_=h.lencode[D&(1<<h.lenbits)-1])>>>16&255,ie=65535&_,!((re=_>>>24)<=O);){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(ie<16)D>>>=re,O-=re,h.lens[h.have++]=ie;else{if(ie===16){for(R=re+2;O<R;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(D>>>=re,O-=re,h.have===0){C.msg="invalid bit length repeat",h.mode=30;break}s=h.lens[h.have-1],G=3+(3&D),D>>>=2,O-=2}else if(ie===17){for(R=re+3;O<R;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}O-=re,s=0,G=3+(7&(D>>>=re)),D>>>=3,O-=3}else{for(R=re+7;O<R;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}O-=re,s=0,G=11+(127&(D>>>=re)),D>>>=7,O-=7}if(h.have+G>h.nlen+h.ndist){C.msg="invalid bit length repeat",h.mode=30;break}for(;G--;)h.lens[h.have++]=s}}if(h.mode===30)break;if(h.lens[256]===0){C.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,U={bits:h.lenbits},M=b(m,h.lens,0,h.nlen,h.lencode,0,h.work,U),h.lenbits=U.bits,M){C.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,U={bits:h.distbits},M=b(v,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,U),h.distbits=U.bits,M){C.msg="invalid distances set",h.mode=30;break}if(h.mode=20,L===6)break e;case 20:h.mode=21;case 21:if(6<=j&&258<=K){C.next_out=V,C.avail_out=K,C.next_in=N,C.avail_in=j,h.hold=D,h.bits=O,l(C,X),V=C.next_out,Y=C.output,K=C.avail_out,N=C.next_in,F=C.input,j=C.avail_in,D=h.hold,O=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;ae=(_=h.lencode[D&(1<<h.lenbits)-1])>>>16&255,ie=65535&_,!((re=_>>>24)<=O);){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(ae&&!(240&ae)){for(fe=re,ve=ae,be=ie;ae=(_=h.lencode[be+((D&(1<<fe+ve)-1)>>fe)])>>>16&255,ie=65535&_,!(fe+(re=_>>>24)<=O);){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}D>>>=fe,O-=fe,h.back+=fe}if(D>>>=re,O-=re,h.back+=re,h.length=ie,ae===0){h.mode=26;break}if(32&ae){h.back=-1,h.mode=12;break}if(64&ae){C.msg="invalid literal/length code",h.mode=30;break}h.extra=15&ae,h.mode=22;case 22:if(h.extra){for(R=h.extra;O<R;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.length+=D&(1<<h.extra)-1,D>>>=h.extra,O-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;ae=(_=h.distcode[D&(1<<h.distbits)-1])>>>16&255,ie=65535&_,!((re=_>>>24)<=O);){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(!(240&ae)){for(fe=re,ve=ae,be=ie;ae=(_=h.distcode[be+((D&(1<<fe+ve)-1)>>fe)])>>>16&255,ie=65535&_,!(fe+(re=_>>>24)<=O);){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}D>>>=fe,O-=fe,h.back+=fe}if(D>>>=re,O-=re,h.back+=re,64&ae){C.msg="invalid distance code",h.mode=30;break}h.offset=ie,h.extra=15&ae,h.mode=24;case 24:if(h.extra){for(R=h.extra;O<R;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}h.offset+=D&(1<<h.extra)-1,D>>>=h.extra,O-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){C.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(K===0)break e;if(G=X-K,h.offset>G){if((G=h.offset-G)>h.whave&&h.sane){C.msg="invalid distance too far back",h.mode=30;break}ue=G>h.wnext?(G-=h.wnext,h.wsize-G):h.wnext-G,G>h.length&&(G=h.length),he=h.window}else he=Y,ue=V-h.offset,G=h.length;for(K<G&&(G=K),K-=G,h.length-=G;Y[V++]=he[ue++],--G;);h.length===0&&(h.mode=21);break;case 26:if(K===0)break e;Y[V++]=h.length,K--,h.mode=21;break;case 27:if(h.wrap){for(;O<32;){if(j===0)break e;j--,D|=F[N++]<<O,O+=8}if(X-=K,C.total_out+=X,h.total+=X,X&&(C.adler=h.check=h.flags?a(h.check,Y,X,V-X):i(h.check,Y,X,V-X)),X=K,(h.flags?D:u(D))!==h.check){C.msg="incorrect data check",h.mode=30;break}O=D=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;O<32;){if(j===0)break e;j--,D+=F[N++]<<O,O+=8}if(D!==(4294967295&h.total)){C.msg="incorrect length check",h.mode=30;break}O=D=0}h.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return f}return C.next_out=V,C.avail_out=K,C.next_in=N,C.avail_in=j,h.hold=D,h.bits=O,(h.wsize||X!==C.avail_out&&h.mode<30&&(h.mode<27||L!==4))&&Z(C,C.output,C.next_out,X-C.avail_out)?(h.mode=31,-4):(J-=C.avail_in,X-=C.avail_out,C.total_in+=J,C.total_out+=X,h.total+=X,h.wrap&&X&&(C.adler=h.check=h.flags?a(h.check,Y,X,C.next_out-X):i(h.check,Y,X,C.next_out-X)),C.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(J==0&&X===0||L===4)&&M===g&&(M=-5),M)},o.inflateEnd=function(C){if(!C||!C.state)return f;var L=C.state;return L.window&&(L.window=null),C.state=null,g},o.inflateGetHeader=function(C,L){var h;return C&&C.state&&2&(h=C.state).wrap?((h.head=L).done=!1,g):f},o.inflateSetDictionary=function(C,L){var h,F=L.length;return C&&C.state?(h=C.state).wrap!==0&&h.mode!==11?f:h.mode===11&&i(1,L,F,0)!==h.check?-3:Z(C,L,F,F)?(h.mode=31,-4):(h.havedict=1,g):f},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,o){var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,v,g,f,p,d,y,u){var k,S,w,x,I,E,T,A,P,Z=u.bits,C=0,L=0,h=0,F=0,Y=0,N=0,V=0,j=0,K=0,D=0,O=null,J=0,X=new n.Buf16(16),G=new n.Buf16(16),ue=null,he=0;for(C=0;C<=15;C++)X[C]=0;for(L=0;L<f;L++)X[v[g+L]]++;for(Y=Z,F=15;1<=F&&X[F]===0;F--);if(F<Y&&(Y=F),F===0)return p[d++]=20971520,p[d++]=20971520,u.bits=1,0;for(h=1;h<F&&X[h]===0;h++);for(Y<h&&(Y=h),C=j=1;C<=15;C++)if(j<<=1,(j-=X[C])<0)return-1;if(0<j&&(m===0||F!==1))return-1;for(G[1]=0,C=1;C<15;C++)G[C+1]=G[C]+X[C];for(L=0;L<f;L++)v[g+L]!==0&&(y[G[v[g+L]]++]=L);if(E=m===0?(O=ue=y,19):m===1?(O=i,J-=257,ue=a,he-=257,256):(O=l,ue=b,-1),C=h,I=d,V=L=D=0,w=-1,x=(K=1<<(N=Y))-1,m===1&&852<K||m===2&&592<K)return 1;for(;;){for(T=C-V,P=y[L]<E?(A=0,y[L]):y[L]>E?(A=ue[he+y[L]],O[J+y[L]]):(A=96,0),k=1<<C-V,h=S=1<<N;p[I+(D>>V)+(S-=k)]=T<<24|A<<16|P|0,S!==0;);for(k=1<<C-1;D&k;)k>>=1;if(k!==0?(D&=k-1,D+=k):D=0,L++,--X[C]==0){if(C===F)break;C=v[g+y[L]]}if(Y<C&&(D&x)!==w){for(V===0&&(V=Y),I+=h,j=1<<(N=C-V);N+V<F&&!((j-=X[N+V])<=0);)N++,j<<=1;if(K+=1<<N,m===1&&852<K||m===2&&592<K)return 1;p[w=D&x]=Y<<24|N<<16|I-d|0}}return D!==0&&(p[I+D]=C-V<<24|64<<16|0),u.bits=Y,0}},{"../utils/common":41}],51:[function(e,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,o){var n=e("../utils/common"),i=0,a=1;function l(_){for(var z=_.length;0<=--z;)_[z]=0}var b=0,m=29,v=256,g=v+1+m,f=30,p=19,d=2*g+1,y=15,u=16,k=7,S=256,w=16,x=17,I=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(g+2));l(Z);var C=new Array(2*f);l(C);var L=new Array(512);l(L);var h=new Array(256);l(h);var F=new Array(m);l(F);var Y,N,V,j=new Array(f);function K(_,z,W,$,B){this.static_tree=_,this.extra_bits=z,this.extra_base=W,this.elems=$,this.max_length=B,this.has_stree=_&&_.length}function D(_,z){this.dyn_tree=_,this.max_code=0,this.stat_desc=z}function O(_){return _<256?L[_]:L[256+(_>>>7)]}function J(_,z){_.pending_buf[_.pending++]=255&z,_.pending_buf[_.pending++]=z>>>8&255}function X(_,z,W){_.bi_valid>u-W?(_.bi_buf|=z<<_.bi_valid&65535,J(_,_.bi_buf),_.bi_buf=z>>u-_.bi_valid,_.bi_valid+=W-u):(_.bi_buf|=z<<_.bi_valid&65535,_.bi_valid+=W)}function G(_,z,W){X(_,W[2*z],W[2*z+1])}function ue(_,z){for(var W=0;W|=1&_,_>>>=1,W<<=1,0<--z;);return W>>>1}function he(_,z,W){var $,B,q=new Array(y+1),Q=0;for($=1;$<=y;$++)q[$]=Q=Q+W[$-1]<<1;for(B=0;B<=z;B++){var H=_[2*B+1];H!==0&&(_[2*B]=ue(q[H]++,H))}}function re(_){var z;for(z=0;z<g;z++)_.dyn_ltree[2*z]=0;for(z=0;z<f;z++)_.dyn_dtree[2*z]=0;for(z=0;z<p;z++)_.bl_tree[2*z]=0;_.dyn_ltree[2*S]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ae(_){8<_.bi_valid?J(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function ie(_,z,W,$){var B=2*z,q=2*W;return _[B]<_[q]||_[B]===_[q]&&$[z]<=$[W]}function fe(_,z,W){for(var $=_.heap[W],B=W<<1;B<=_.heap_len&&(B<_.heap_len&&ie(z,_.heap[B+1],_.heap[B],_.depth)&&B++,!ie(z,$,_.heap[B],_.depth));)_.heap[W]=_.heap[B],W=B,B<<=1;_.heap[W]=$}function ve(_,z,W){var $,B,q,Q,H=0;if(_.last_lit!==0)for(;$=_.pending_buf[_.d_buf+2*H]<<8|_.pending_buf[_.d_buf+2*H+1],B=_.pending_buf[_.l_buf+H],H++,$===0?G(_,B,z):(G(_,(q=h[B])+v+1,z),(Q=E[q])!==0&&X(_,B-=F[q],Q),G(_,q=O(--$),W),(Q=T[q])!==0&&X(_,$-=j[q],Q)),H<_.last_lit;);G(_,S,z)}function be(_,z){var W,$,B,q=z.dyn_tree,Q=z.stat_desc.static_tree,H=z.stat_desc.has_stree,te=z.stat_desc.elems,de=-1;for(_.heap_len=0,_.heap_max=d,W=0;W<te;W++)q[2*W]!==0?(_.heap[++_.heap_len]=de=W,_.depth[W]=0):q[2*W+1]=0;for(;_.heap_len<2;)q[2*(B=_.heap[++_.heap_len]=de<2?++de:0)]=1,_.depth[B]=0,_.opt_len--,H&&(_.static_len-=Q[2*B+1]);for(z.max_code=de,W=_.heap_len>>1;1<=W;W--)fe(_,q,W);for(B=te;W=_.heap[1],_.heap[1]=_.heap[_.heap_len--],fe(_,q,1),$=_.heap[1],_.heap[--_.heap_max]=W,_.heap[--_.heap_max]=$,q[2*B]=q[2*W]+q[2*$],_.depth[B]=(_.depth[W]>=_.depth[$]?_.depth[W]:_.depth[$])+1,q[2*W+1]=q[2*$+1]=B,_.heap[1]=B++,fe(_,q,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(oe,ye){var Ue,_e,Fe,pe,Ge,ct,Ae=ye.dyn_tree,Et=ye.max_code,dn=ye.stat_desc.static_tree,cn=ye.stat_desc.has_stree,fn=ye.stat_desc.extra_bits,Lt=ye.stat_desc.extra_base,Me=ye.stat_desc.max_length,Ve=0;for(pe=0;pe<=y;pe++)oe.bl_count[pe]=0;for(Ae[2*oe.heap[oe.heap_max]+1]=0,Ue=oe.heap_max+1;Ue<d;Ue++)Me<(pe=Ae[2*Ae[2*(_e=oe.heap[Ue])+1]+1]+1)&&(pe=Me,Ve++),Ae[2*_e+1]=pe,Et<_e||(oe.bl_count[pe]++,Ge=0,Lt<=_e&&(Ge=fn[_e-Lt]),ct=Ae[2*_e],oe.opt_len+=ct*(pe+Ge),cn&&(oe.static_len+=ct*(dn[2*_e+1]+Ge)));if(Ve!==0){do{for(pe=Me-1;oe.bl_count[pe]===0;)pe--;oe.bl_count[pe]--,oe.bl_count[pe+1]+=2,oe.bl_count[Me]--,Ve-=2}while(0<Ve);for(pe=Me;pe!==0;pe--)for(_e=oe.bl_count[pe];_e!==0;)Et<(Fe=oe.heap[--Ue])||(Ae[2*Fe+1]!==pe&&(oe.opt_len+=(pe-Ae[2*Fe+1])*Ae[2*Fe],Ae[2*Fe+1]=pe),_e--)}}(_,z),he(q,de,_.bl_count)}function s(_,z,W){var $,B,q=-1,Q=z[1],H=0,te=7,de=4;for(Q===0&&(te=138,de=3),z[2*(W+1)+1]=65535,$=0;$<=W;$++)B=Q,Q=z[2*($+1)+1],++H<te&&B===Q||(H<de?_.bl_tree[2*B]+=H:B!==0?(B!==q&&_.bl_tree[2*B]++,_.bl_tree[2*w]++):H<=10?_.bl_tree[2*x]++:_.bl_tree[2*I]++,q=B,de=(H=0)===Q?(te=138,3):B===Q?(te=6,3):(te=7,4))}function M(_,z,W){var $,B,q=-1,Q=z[1],H=0,te=7,de=4;for(Q===0&&(te=138,de=3),$=0;$<=W;$++)if(B=Q,Q=z[2*($+1)+1],!(++H<te&&B===Q)){if(H<de)for(;G(_,B,_.bl_tree),--H!=0;);else B!==0?(B!==q&&(G(_,B,_.bl_tree),H--),G(_,w,_.bl_tree),X(_,H-3,2)):H<=10?(G(_,x,_.bl_tree),X(_,H-3,3)):(G(_,I,_.bl_tree),X(_,H-11,7));q=B,de=(H=0)===Q?(te=138,3):B===Q?(te=6,3):(te=7,4)}}l(j);var U=!1;function R(_,z,W,$){X(_,(b<<1)+($?1:0),3),function(B,q,Q,H){ae(B),H&&(J(B,Q),J(B,~Q)),n.arraySet(B.pending_buf,B.window,q,Q,B.pending),B.pending+=Q}(_,z,W,!0)}o._tr_init=function(_){U||(function(){var z,W,$,B,q,Q=new Array(y+1);for(B=$=0;B<m-1;B++)for(F[B]=$,z=0;z<1<<E[B];z++)h[$++]=B;for(h[$-1]=B,B=q=0;B<16;B++)for(j[B]=q,z=0;z<1<<T[B];z++)L[q++]=B;for(q>>=7;B<f;B++)for(j[B]=q<<7,z=0;z<1<<T[B]-7;z++)L[256+q++]=B;for(W=0;W<=y;W++)Q[W]=0;for(z=0;z<=143;)Z[2*z+1]=8,z++,Q[8]++;for(;z<=255;)Z[2*z+1]=9,z++,Q[9]++;for(;z<=279;)Z[2*z+1]=7,z++,Q[7]++;for(;z<=287;)Z[2*z+1]=8,z++,Q[8]++;for(he(Z,g+1,Q),z=0;z<f;z++)C[2*z+1]=5,C[2*z]=ue(z,5);Y=new K(Z,E,v+1,g,y),N=new K(C,T,0,f,y),V=new K(new Array(0),A,0,p,k)}(),U=!0),_.l_desc=new D(_.dyn_ltree,Y),_.d_desc=new D(_.dyn_dtree,N),_.bl_desc=new D(_.bl_tree,V),_.bi_buf=0,_.bi_valid=0,re(_)},o._tr_stored_block=R,o._tr_flush_block=function(_,z,W,$){var B,q,Q=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(H){var te,de=4093624447;for(te=0;te<=31;te++,de>>>=1)if(1&de&&H.dyn_ltree[2*te]!==0)return i;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return a;for(te=32;te<v;te++)if(H.dyn_ltree[2*te]!==0)return a;return i}(_)),be(_,_.l_desc),be(_,_.d_desc),Q=function(H){var te;for(s(H,H.dyn_ltree,H.l_desc.max_code),s(H,H.dyn_dtree,H.d_desc.max_code),be(H,H.bl_desc),te=p-1;3<=te&&H.bl_tree[2*P[te]+1]===0;te--);return H.opt_len+=3*(te+1)+5+5+4,te}(_),B=_.opt_len+3+7>>>3,(q=_.static_len+3+7>>>3)<=B&&(B=q)):B=q=W+5,W+4<=B&&z!==-1?R(_,z,W,$):_.strategy===4||q===B?(X(_,2+($?1:0),3),ve(_,Z,C)):(X(_,4+($?1:0),3),function(H,te,de,oe){var ye;for(X(H,te-257,5),X(H,de-1,5),X(H,oe-4,4),ye=0;ye<oe;ye++)X(H,H.bl_tree[2*P[ye]+1],3);M(H,H.dyn_ltree,te-1),M(H,H.dyn_dtree,de-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,Q+1),ve(_,_.dyn_ltree,_.dyn_dtree)),re(_),$&&ae(_)},o._tr_tally=function(_,z,W){return _.pending_buf[_.d_buf+2*_.last_lit]=z>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&z,_.pending_buf[_.l_buf+_.last_lit]=255&W,_.last_lit++,z===0?_.dyn_ltree[2*W]++:(_.matches++,z--,_.dyn_ltree[2*(h[W]+v+1)]++,_.dyn_dtree[2*O(z)]++),_.last_lit===_.lit_bufsize-1},o._tr_align=function(_){X(_,2,3),G(_,S,Z),function(z){z.bi_valid===16?(J(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(e,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,o){(function(n){(function(i,a){if(!i.setImmediate){var l,b,m,v,g=1,f={},p=!1,d=i.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(i);y=y&&y.setTimeout?y:i,l={}.toString.call(i.process)==="[object process]"?function(w){process.nextTick(function(){k(w)})}:function(){if(i.postMessage&&!i.importScripts){var w=!0,x=i.onmessage;return i.onmessage=function(){w=!1},i.postMessage("","*"),i.onmessage=x,w}}()?(v="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",S,!1):i.attachEvent("onmessage",S),function(w){i.postMessage(v+w,"*")}):i.MessageChannel?((m=new MessageChannel).port1.onmessage=function(w){k(w.data)},function(w){m.port2.postMessage(w)}):d&&"onreadystatechange"in d.createElement("script")?(b=d.documentElement,function(w){var x=d.createElement("script");x.onreadystatechange=function(){k(w),x.onreadystatechange=null,b.removeChild(x),x=null},b.appendChild(x)}):function(w){setTimeout(k,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var x=new Array(arguments.length-1),I=0;I<x.length;I++)x[I]=arguments[I+1];var E={callback:w,args:x};return f[g]=E,l(g),g++},y.clearImmediate=u}function u(w){delete f[w]}function k(w){if(p)setTimeout(k,0,w);else{var x=f[w];if(x){p=!0;try{(function(I){var E=I.callback,T=I.args;switch(T.length){case 0:E();break;case 1:E(T[0]);break;case 2:E(T[0],T[1]);break;case 3:E(T[0],T[1],T[2]);break;default:E.apply(a,T)}})(x)}finally{u(w),p=!1}}}}function S(w){w.source===i&&typeof w.data=="string"&&w.data.indexOf(v)===0&&k(+w.data.slice(v.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof Ye<"u"?Ye:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ht);var kn=Ht.exports;const _n=yn(kn);window.RevealAudioRecorder=window.RevealAudioRecorder||{id:"RevealAudioRecorder",init:function(c){xn(c)}};var ne={audio:null,audioStream:null,recordRTC:null,zip:null,indices:null,recordedAudio:null,canvas:null,isRecording:!1,isPaused:!1,initialize:function(){this.audio=new Audio,this.audio.autoplay=!0,this.zip=new _n,this.canvas=document.createElement("canvas"),this.canvas.className="recorder",this.canvas.setAttribute("style","position: fixed; top: 25px; right: 50px;"),this.canvas.width=25,this.canvas.height=25,document.querySelector(".reveal").appendChild(this.canvas)},toggleRecording:function(t){var e=this.isRecording;typeof t=="boolean"?(this.isRecording=t,this.isPaused=!1):this.isRecording=!this.isRecording,this.isRecording=this.isRecording&&!Reveal.isOverview()&&!Reveal.isPaused(),!e&&this.isRecording?this.start():e&&!this.isRecording&&this.stop()},start:function(){window.onbeforeunload=t;function t(){return"You have attempted to leave this page. All unsaved audio recordings will be lost. Are you sure you want to exit this page?"}this.indices=Reveal.getIndices();var e="audioplayer-"+this.indices.h+"."+this.indices.v;if(this.indices.f!=null&&this.indices.f>=0&&(e=e+"."+this.indices.f),this.recordedAudio=document.getElementById(e),this.recordedAudio||alert("Audio player is not found. Please check that audio-slideshow plugin is loaded!"),!this.audioStream||!this.recordRTC)navigator.getUserMedia({audio:!0,video:!1},function(o){window.IsChrome&&(o=new window.MediaStream(o.getAudioTracks())),ne.audioStream=o,ne.recordRTC=window.RecordRTC(o,{type:"audio"},{bufferSize:256}),ne.recordRTC.startRecording();var n=ne.canvas.getContext("2d");n.beginPath(),n.arc(ne.canvas.width/2,ne.canvas.height/2,ne.canvas.width/2-3,0,Math.PI*2,!1),n.lineWidth=3,n.fillStyle="#f00",n.fill(),n.strokeStyle="#f00",n.stroke(),document.dispatchEvent(new CustomEvent("startrecording"))},function(o){alert("Something went wrong in accessing the microphone. (error code "+o.code+")")});else{this.audio.srcObject=this.audioStream,this.audio.volume=0,this.recordRTC.startRecording();var r=this.canvas.getContext("2d");r.beginPath(),r.arc(this.canvas.width/2,this.canvas.height/2,this.canvas.width/2-3,0,Math.PI*2,!1),r.lineWidth=3,r.fillStyle="#f00",r.fill(),r.strokeStyle="#f00",r.stroke(),document.dispatchEvent(new CustomEvent("startrecording"))}},stop:function(){this.audio.src="",this.recordRTC&&(this.filename=this.indices.h+"."+this.indices.v,typeof this.indices.f<"u"&&this.indices.f>=0&&(this.filename=this.filename+"."+this.indices.f),this.recordRTC.stopRecording(function(e){ne.recordedAudio.src=e;var r=ne.recordRTC.getBlob();ne.filename=ne.filename+"."+r.type.split("/").pop();var o=new window.FileReader;o.readAsBinaryString(r),o.onloadend=function(){let n=o.result;ne.zip.file(ne.filename,n,{binary:!0}),ne.filename=null}}),this.indices=null);var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),document.dispatchEvent(new CustomEvent("stoprecording"))},next:function(){var t=this.canvas.getContext("2d");if(t.clearRect(0,0,this.canvas.width,this.canvas.height),this.audio.src="",this.recordRTC&&(this.filename=this.indices.h+"."+this.indices.v,typeof this.indices.f<"u"&&this.indices.f>=0&&(this.filename=this.filename+"."+this.indices.f),this.recordRTC.stopRecording(function(e){ne.recordedAudio.src=e;var r=ne.recordRTC.getBlob();ne.filename=ne.filename+"."+r.type.split("/").pop();var o=new window.FileReader;o.readAsBinaryString(r),o.onloadend=function(){blobBinaryString=o.result,ne.zip.file(ne.filename,blobBinaryString,{binary:!0}),ne.filename=null,ne.isPaused||ne.start()}})),this.isPaused){var t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.canvas.width/2,this.canvas.height/2,this.canvas.width/2-3,0,Math.PI*2,!1),t.lineWidth=3,t.fillStyle="#ff0",t.fill(),t.strokeStyle="#ff0",t.stroke()}},downloadZip:function(){this.zip.generateAsync({type:"blob"}).then(t=>{var e=document.createElement("a");document.body.appendChild(e),e.download="audio.zip",e.href=window.URL.createObjectURL(t),e.click(),document.body.removeChild(e)})},fetchTTS:function(){function t(n){if(n.length){var i=n.shift(),a=Math.round(100*(o.getAttribute("data-max")-n.length)/o.getAttribute("data-max"));o.setAttribute("style","width: "+a+"%");var l=i.getAttribute("data-tts"),b=new XMLHttpRequest;b.open("GET",i.src,!0),b.responseType="blob",b.onload=function(){if(b.readyState===4&&b.status===200){window.URL.createObjectURL(b.response),l+="."+b.response.type.split("/").pop().split("x-").pop();var g=new window.FileReader;g.readAsBinaryString(b.response),g.onloadend=function(){blobBinaryString=g.result,ne.zip.file(l,blobBinaryString,{binary:!0}),t(n)}}},b.onerror=function(){alert("Unable to fetch TTS-files!"),document.querySelector(".reveal").removeChild(r)};try{b.send(null),console.log("Fetch TTS for slide "+i.getAttribute("data-tts"))}catch(g){alert("Unable to fetch TTS-files! "+g),document.querySelector(".reveal").removeChild(r)}}else{var m=ne.zip.generate({type:"blob"}),v=document.createElement("a");document.body.appendChild(v);try{v.download="audio.zip",v.href=window.URL.createObjectURL(m)}catch(g){v.innerHTML+=" ("+g+")"}v.click(),document.body.removeChild(v),document.querySelector(".reveal").removeChild(r)}}var e=document.querySelectorAll("audio>source[data-tts]");if(e.length){var r=document.createElement("div");r.className="progress",r.setAttribute("style","display: block; top: 0; bottom: auto; height: 12px;");var o=document.createElement("span");o.setAttribute("style","width: 0%;"),o.setAttribute("data-max",e.length),r.appendChild(o),document.querySelector(".reveal").appendChild(r),t(Array.prototype.slice.call(e))}else alert("Either there is no audio to fetch from the text to speech generator or all audio files are already provided.")}};const xn=function(c){c.addKeyBinding({keyCode:82,key:"R",description:"Toggle recording"},function(){ne.toggleRecording()}),c.addKeyBinding({keyCode:90,key:"Z",description:"Download recordings"},function(){ne.downloadZip()}),c.addKeyBinding({keyCode:84,key:"T",description:"Fetch Text-to-speech audio files"},function(){ne.fetchTTS()}),c.addEventListener("fragmentshown",function(e){ne.isRecording&&(t(c.getIndices())?(ne.isPaused=!0,ne.next()):ne.isPaused?(ne.isPaused=!1,ne.start()):ne.next())}),c.addEventListener("fragmenthidden",function(e){ne.isRecording&&(t(c.getIndices())?(ne.isPaused=!0,ne.next()):ne.isPaused?(ne.isPaused=!1,ne.start()):ne.next())}),c.addEventListener("overviewshown",function(e){ne.toggleRecording(!1)}),c.addEventListener("paused",function(e){ne.toggleRecording(!1)}),c.addEventListener("ready",function(e){ne.initialize()}),c.addEventListener("slidechanged",function(e){ne.isRecording&&(t(c.getIndices())?(ne.isPaused=!0,ne.next()):ne.isPaused?(ne.isPaused=!1,ne.start()):ne.next())});function t(e){var r="audioplayer-"+e.h+"."+e.v;return e.f!=null&&e.f>=0&&(r=r+"."+e.f),document.getElementById(r).src.substring(0,4)=="blob"}};/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function ee(c,t){if(!c)throw"First parameter is required.";t=t||{type:"video"},t=new Dt(c,t);var e=this;function r(u){return t.disableLogs||console.log("RecordRTC version: ",e.version),u&&(t=new Dt(c,u)),t.disableLogs||console.log("started recording "+t.type+" stream."),p?(p.clearRecordedData(),p.record(),v("recording"),e.recordingDuration&&m(),e):(o(function(){e.recordingDuration&&m()}),e)}function o(u){u&&(t.initCallback=function(){u(),u=t.initCallback=null});var k=new Rn(c,t);p=new k(c,t),p.record(),v("recording"),t.disableLogs||console.log("Initialized recorderType:",p.constructor.name,"for output-type:",t.type)}function n(u){if(u=u||function(){},!p){f();return}if(e.state==="paused"){e.resumeRecording(),setTimeout(function(){n(u)},1);return}e.state!=="recording"&&!t.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',e.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),t.type!=="gif"?p.stop(k):(p.stop(),k()),v("stopped");function k(S){if(!p){typeof u.call=="function"?u.call(e,""):u("");return}Object.keys(p).forEach(function(I){typeof p[I]!="function"&&(e[I]=p[I])});var w=p.blob;if(!w)if(S)p.blob=w=S;else throw"Recording failed.";if(w&&!t.disableLogs&&console.log(w.type,"->",kt(w.size)),u){var x;try{x=ge.createObjectURL(w)}catch{}typeof u.call=="function"?u.call(e,x):u(x)}t.autoWriteToDisk&&b(function(I){var E={};E[t.type+"Blob"]=I,xe.Store(E)})}}function i(){if(!p){f();return}if(e.state!=="recording"){t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",e.state);return}v("paused"),p.pause(),t.disableLogs||console.log("Paused recording.")}function a(){if(!p){f();return}if(e.state!=="paused"){t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",e.state);return}v("recording"),p.resume(),t.disableLogs||console.log("Resumed recording.")}function l(u){postMessage(new FileReaderSync().readAsDataURL(u))}function b(u,k){if(!u)throw"Pass a callback function over getDataURL.";var S=k?k.blob:(p||{}).blob;if(!S){t.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){b(u,k)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var w=I(l);w.onmessage=function(E){u(E.data)},w.postMessage(S)}else{var x=new FileReader;x.readAsDataURL(S),x.onload=function(E){u(E.target.result)}}function I(E){try{var T=ge.createObjectURL(new Blob([E.toString(),"this.onmessage =  function (eee) {"+E.name+"(eee.data);}"],{type:"application/javascript"})),A=new Worker(T);return ge.revokeObjectURL(T),A}catch{}}}function m(u){if(u=u||0,e.state==="paused"){setTimeout(function(){m(u)},1e3);return}if(e.state!=="stopped"){if(u>=e.recordingDuration){n(e.onRecordingStopped);return}u+=1e3,setTimeout(function(){m(u)},1e3)}}function v(u){e&&(e.state=u,typeof e.onStateChanged.call=="function"?e.onStateChanged.call(e,u):e.onStateChanged(u))}var g='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function f(){t.disableLogs!==!0&&console.warn(g)}var p,d={startRecording:r,stopRecording:n,pauseRecording:i,resumeRecording:a,initRecorder:o,setRecordingDuration:function(u,k){if(typeof u>"u")throw"recordingDuration is required.";if(typeof u!="number")throw"recordingDuration must be a number.";return e.recordingDuration=u,e.onRecordingStopped=k||function(){},{onRecordingStopped:function(S){e.onRecordingStopped=S}}},clearRecordedData:function(){if(!p){f();return}p.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!p){f();return}return p.blob},getDataURL:b,toURL:function(){if(!p){f();return}return ge.createObjectURL(p.blob)},getInternalRecorder:function(){return p},save:function(u){if(!p){f();return}Vt(p.blob,u)},getFromDisk:function(u){if(!p){f();return}ee.getFromDisk(t.type,u)},setAdvertisementArray:function(u){t.advertisement=[];for(var k=u.length,S=0;S<k;S++)t.advertisement.push({duration:S,image:u[S]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){e.state==="recording"&&!t.disableLogs&&console.warn("Stop an active recorder."),p&&typeof p.clearRecordedData=="function"&&p.clearRecordedData(),p=null,v("inactive"),e.blob=null},onStateChanged:function(u){t.disableLogs||console.log("Recorder state changed:",u)},state:"inactive",getState:function(){return e.state},destroy:function(){var u=t.disableLogs;t={disableLogs:!0},e.reset(),v("destroyed"),d=e=null,De.AudioContextConstructor&&(De.AudioContextConstructor.close(),De.AudioContextConstructor=null),t.disableLogs=u,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return e=d,d;for(var y in d)this[y]=d[y];return e=this,d}ee.version="5.6.2";typeof module<"u"&&(module.exports=ee);typeof define=="function"&&define.amd&&define("RecordRTC",[],function(){return ee});ee.getFromDisk=function(c,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+(c==="all"?"blobs":c+" blob ")+" from disk!"),xe.Fetch(function(e,r){c!=="all"&&r===c+"Blob"&&t&&t(e),c==="all"&&t&&t(e,r.replace("Blob",""))})};ee.writeToDisk=function(c){console.log("Writing recorded blob(s) to disk!"),c=c||{},c.audio&&c.video&&c.gif?c.audio.getDataURL(function(t){c.video.getDataURL(function(e){c.gif.getDataURL(function(r){xe.Store({audioBlob:t,videoBlob:e,gifBlob:r})})})}):c.audio&&c.video?c.audio.getDataURL(function(t){c.video.getDataURL(function(e){xe.Store({audioBlob:t,videoBlob:e})})}):c.audio&&c.gif?c.audio.getDataURL(function(t){c.gif.getDataURL(function(e){xe.Store({audioBlob:t,gifBlob:e})})}):c.video&&c.gif?c.video.getDataURL(function(t){c.gif.getDataURL(function(e){xe.Store({videoBlob:t,gifBlob:e})})}):c.audio?c.audio.getDataURL(function(t){xe.Store({audioBlob:t})}):c.video?c.video.getDataURL(function(t){xe.Store({videoBlob:t})}):c.gif&&c.gif.getDataURL(function(t){xe.Store({gifBlob:t})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function Dt(c,t){return!t.recorderType&&!t.type&&(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===ut||t.recorderType===nt||typeof $e<"u"&&t.recorderType===$e?t.type="video":t.recorderType===rt?t.type="gif":t.recorderType===lt?t.type="audio":t.recorderType===ke&&(me(c,"audio").length&&me(c,"video").length||!me(c,"audio").length&&me(c,"video").length?t.type="video":me(c,"audio").length&&!me(c,"video").length&&(t.type="audio"))),typeof ke<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function Rn(c,t){var e;return(ze||yt||et)&&(e=lt),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!ze&&(e=ke),t.type==="video"&&(ze||et)&&(e=ut,typeof $e<"u"&&typeof ReadableStream<"u"&&(e=$e)),t.type==="gif"&&(e=rt),t.type==="canvas"&&(e=nt),Le()&&e!==nt&&e!==rt&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(me(c,"video").length||me(c,"audio").length)&&(t.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(e=ke):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(e=ke)),c instanceof Array&&c.length&&(e=Xt),t.recorderType&&(e=t.recorderType),!t.disableLogs&&e&&e.name&&console.log("Using recorderType:",e.name||e.constructor.name),!e&&tt&&(e=ke),e}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function wt(c){this.addStream=function(t){t&&(c=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t=this.mediaType,e,r=this.mimeType||{audio:null,video:null,gif:null};if(typeof t.audio!="function"&&Le()&&!me(c,"audio").length&&(t.audio=!1),typeof t.video!="function"&&Le()&&!me(c,"video").length&&(t.video=!1),typeof t.gif!="function"&&Le()&&!me(c,"video").length&&(t.gif=!1),!t.audio&&!t.video&&!t.gif)throw"MediaStream must have either audio or video tracks.";if(t.audio&&(e=null,typeof t.audio=="function"&&(e=t.audio),this.audioRecorder=new ee(c,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:e,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),t.video||this.audioRecorder.startRecording()),t.video){e=null,typeof t.video=="function"&&(e=t.video);var o=c;if(Le()&&t.audio&&typeof t.audio=="function"){var n=me(c,"video")[0];Gt?(o=new Ce,o.addTrack(n),e&&e===ut&&(e=ke)):(o=new Ce,o.addTrack(n))}this.videoRecorder=new ee(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:e,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),t.audio||this.videoRecorder.startRecording()}if(t.audio&&t.video){var i=this,a=Le()===!0;(t.audio instanceof lt&&t.video||t.audio!==!0&&t.video!==!0&&t.audio!==t.video)&&(a=!1),a===!0?(i.audioRecorder=null,i.videoRecorder.startRecording()):i.videoRecorder.initRecorder(function(){i.audioRecorder.initRecorder(function(){i.videoRecorder.startRecording(),i.audioRecorder.startRecording()})})}t.gif&&(e=null,typeof t.gif=="function"&&(e=t.gif),this.gifRecorder=new ee(c,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:e,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(t){t=t||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(e){t(e,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(e){t(e,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(e){t(e,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(t){var e={};return this.audioRecorder&&(e.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(e.video=this.videoRecorder.getBlob()),this.gifRecorder&&(e.gif=this.gifRecorder.getBlob()),t&&t(e),e},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(t){this.getBlob(function(o){o.audio&&o.video?e(o.audio,function(n){e(o.video,function(i){t({audio:n,video:i})})}):o.audio?e(o.audio,function(n){t({audio:n})}):o.video&&e(o.video,function(n){t({video:n})})});function e(o,n){if(typeof Worker<"u"){var i=r(function(b){postMessage(new FileReaderSync().readAsDataURL(b))});i.onmessage=function(l){n(l.data)},i.postMessage(o)}else{var a=new FileReader;a.readAsDataURL(o),a.onload=function(l){n(l.target.result)}}}function r(o){var n=ge.createObjectURL(new Blob([o.toString(),"this.onmessage =  function (eee) {"+o.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(n),a;if(typeof ge<"u")a=ge;else if(typeof webkitURL<"u")a=webkitURL;else throw"Neither URL nor webkitURL detected.";return a.revokeObjectURL(n),i}},this.writeToDisk=function(){ee.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(t){t=t||{audio:!0,video:!0,gif:!0},t.audio&&this.audioRecorder&&this.audioRecorder.save(typeof t.audio=="string"?t.audio:""),t.video&&this.videoRecorder&&this.videoRecorder.save(typeof t.video=="string"?t.video:""),t.gif&&this.gifRecorder&&this.gifRecorder.save(typeof t.gif=="string"?t.gif:"")}}wt.getFromDisk=ee.getFromDisk;wt.writeToDisk=ee.writeToDisk;typeof ee<"u"&&(ee.MRecordRTC=wt);var Sn="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(c){c&&(typeof window<"u"||typeof global>"u"||(global.navigator={userAgent:Sn,getUserMedia:function(){}},global.console||(global.console={}),(typeof global.console.log>"u"||typeof global.console.error>"u")&&(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),typeof document>"u"&&(c.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var t={getContext:function(){return t},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return t},c.HTMLVideoElement=function(){}),typeof location>"u"&&(c.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(c.screen={width:0,height:0}),typeof ge>"u"&&(c.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),c.window=global))})(typeof global<"u"?global:null);var Te=window.requestAnimationFrame;if(typeof Te>"u"){if(typeof webkitRequestAnimationFrame<"u")Te=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")Te=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")Te=msRequestAnimationFrame;else if(typeof Te>"u"){var Ot=0;Te=function(c,t){var e=new Date().getTime(),r=Math.max(0,16-(e-Ot)),o=setTimeout(function(){c(e+r)},r);return Ot=e+r,o}}}var Ee=window.cancelAnimationFrame;typeof Ee>"u"&&(typeof webkitCancelAnimationFrame<"u"?Ee=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?Ee=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?Ee=msCancelAnimationFrame:typeof Ee>"u"&&(Ee=function(c){clearTimeout(c)}));var Ne=window.AudioContext;typeof Ne>"u"&&(typeof webkitAudioContext<"u"&&(Ne=webkitAudioContext),typeof mozAudioContext<"u"&&(Ne=mozAudioContext));var ge=window.URL;typeof ge>"u"&&typeof webkitURL<"u"&&(ge=webkitURL);typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var yt=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),et=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,Gt=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),ze=!et&&!yt&&!!navigator.webkitGetUserMedia||Kt()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,tt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);tt&&!ze&&navigator.userAgent.indexOf("CriOS")!==-1&&(tt=!1,ze=!0);var Ce=window.MediaStream;typeof Ce>"u"&&typeof webkitMediaStream<"u"&&(Ce=webkitMediaStream);typeof Ce<"u"&&typeof Ce.prototype.stop>"u"&&(Ce.prototype.stop=function(){this.getTracks().forEach(function(c){c.stop()})});function kt(c){var t=1e3,e=["Bytes","KB","MB","GB","TB"];if(c===0)return"0 Bytes";var r=parseInt(Math.floor(Math.log(c)/Math.log(t)),10);return(c/Math.pow(t,r)).toPrecision(3)+" "+e[r]}function Vt(c,t){if(!c)throw"Blob object is required.";if(!c.type)try{c.type="video/webm"}catch{}var e=(c.type||"video/webm").split("/")[1];if(e.indexOf(";")!==-1&&(e=e.split(";")[0]),t&&t.indexOf(".")!==-1){var r=t.split(".");t=r[0],e=r[1]}var o=(t||Math.round(Math.random()*9999999999)+888888888)+"."+e;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(c,o);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(c,o);var n=document.createElement("a");n.href=ge.createObjectURL(c),n.download=o,n.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(n),typeof n.click=="function"?n.click():(n.target="_blank",n.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),ge.revokeObjectURL(n.href)}function Kt(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function me(c,t){return!c||!c.getTracks?[]:c.getTracks().filter(function(e){return e.kind===(t||"audio")})}function Yt(c,t){"srcObject"in t?t.srcObject=c:"mozSrcObject"in t?t.mozSrcObject=c:t.srcObject=c}function Cn(c,t){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var e=new EBML.Reader,r=new EBML.Decoder,o=EBML.tools,n=new FileReader;n.onload=function(i){var a=r.decode(this.result);a.forEach(function(v){e.read(v)}),e.stop();var l=o.makeMetadataSeekable(e.metadatas,e.duration,e.cues),b=this.result.slice(e.metadataSize),m=new Blob([l,b],{type:"video/webm"});t(m)},n.readAsArrayBuffer(c)}typeof ee<"u"&&(ee.invokeSaveAsDialog=Vt,ee.getTracks=me,ee.getSeekableBlob=Cn,ee.bytesToSize=kt,ee.isElectron=Kt);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var De={};typeof Ne<"u"?De.AudioContext=Ne:typeof webkitAudioContext<"u"&&(De.AudioContext=webkitAudioContext);typeof ee<"u"&&(ee.Storage=De);function Le(){if(Gt||tt||yt)return!0;var c=navigator.userAgent,t=""+parseFloat(navigator.appVersion),e=parseInt(navigator.appVersion,10),r,o;return(ze||et)&&(r=c.indexOf("Chrome"),t=c.substring(r+7)),(o=t.indexOf(";"))!==-1&&(t=t.substring(0,o)),(o=t.indexOf(" "))!==-1&&(t=t.substring(0,o)),e=parseInt(""+t,10),isNaN(e)&&(t=""+parseFloat(navigator.appVersion),e=parseInt(navigator.appVersion,10)),e>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function ke(c,t){var m=this;if(typeof c>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(t=t||{mimeType:"video/webm"},t.type==="audio"){if(me(c,"video").length&&me(c,"audio").length){var e;navigator.mozGetUserMedia?(e=new Ce,e.addTrack(me(c,"audio")[0])):e=new Ce(me(c,"audio")),c=e}(!t.mimeType||t.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(t.mimeType=ze?"audio/webm":"audio/ogg"),t.mimeType&&t.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var r=[];this.getArrayOfBlobs=function(){return r},this.record=function(){m.blob=null,m.clearRecordedData(),m.timestamps=[],b=[],r=[];var v=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",v),a&&(a=null),ze&&!Le()&&(v="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&v.mimeType&&(MediaRecorder.isTypeSupported(v.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",v.mimeType),v.mimeType=t.type==="audio"?"audio/webm":"video/webm"));try{a=new MediaRecorder(c,v),t.mimeType=v.mimeType}catch{a=new MediaRecorder(c)}v.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in a&&a.canRecordMimeType(v.mimeType)===!1&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",v.mimeType)),a.ondataavailable=function(g){if(g.data&&b.push("ondataavailable: "+kt(g.data.size)),typeof t.timeSlice=="number"){if(g.data&&g.data.size&&(r.push(g.data),o(),typeof t.ondataavailable=="function")){var f=t.getNativeBlob?g.data:new Blob([g.data],{type:n(v)});t.ondataavailable(f)}return}if(!g.data||!g.data.size||g.data.size<100||m.blob){m.recordingCallback&&(m.recordingCallback(new Blob([],{type:n(v)})),m.recordingCallback=null);return}m.blob=t.getNativeBlob?g.data:new Blob([g.data],{type:n(v)}),m.recordingCallback&&(m.recordingCallback(m.blob),m.recordingCallback=null)},a.onstart=function(){b.push("started")},a.onpause=function(){b.push("paused")},a.onresume=function(){b.push("resumed")},a.onstop=function(){b.push("stopped")},a.onerror=function(g){g&&(g.name||(g.name="UnknownError"),b.push("error: "+g),t.disableLogs||(g.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",g):g.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",v.mimeType,") is not supported.",g):g.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",g):g.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",g):console.error("MediaRecorder Error",g)),function(f){if(!m.manuallyStopped&&a&&a.state==="inactive"){delete t.timeslice,a.start(10*60*1e3);return}setTimeout(f,1e3)}(),a.state!=="inactive"&&a.state!=="stopped"&&a.stop())},typeof t.timeSlice=="number"?(o(),a.start(t.timeSlice)):a.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[];function o(){m.timestamps.push(new Date().getTime()),typeof t.onTimeStamp=="function"&&t.onTimeStamp(m.timestamps[m.timestamps.length-1],m.timestamps)}function n(v){return a&&a.mimeType?a.mimeType:v.mimeType||"video/webm"}this.stop=function(v){v=v||function(){},m.manuallyStopped=!0,a&&(this.recordingCallback=v,a.state==="recording"&&a.stop(),typeof t.timeSlice=="number"&&setTimeout(function(){m.blob=new Blob(r,{type:n(t)}),m.recordingCallback(m.blob)},100))},this.pause=function(){a&&a.state==="recording"&&a.pause()},this.resume=function(){a&&a.state==="paused"&&a.resume()},this.clearRecordedData=function(){a&&a.state==="recording"&&m.stop(i),i()};function i(){r=[],a=null,m.timestamps=[]}var a;this.getInternalRecorder=function(){return a};function l(){if("active"in c){if(!c.active)return!1}else if("ended"in c&&c.ended)return!1;return!0}this.blob=null,this.getState=function(){return a&&a.state||"inactive"};var b=[];this.getAllStates=function(){return b},typeof t.checkForInactiveTracks>"u"&&(t.checkForInactiveTracks=!1);var m=this;(function v(){if(!(!a||t.checkForInactiveTracks===!1)){if(l()===!1){t.disableLogs||console.log("MediaStream seems stopped."),m.stop();return}setTimeout(v,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof ee<"u"&&(ee.MediaStreamRecorder=ke);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function lt(c,t){if(!me(c,"audio").length)throw"Your stream has no audio tracks.";t=t||{};var e=this,r=[],o=[],n=!1,i=0,a,l=2,b=t.desiredSampRate;t.leftChannel===!0&&(l=1),t.numberOfAudioChannels===1&&(l=1),(!l||l<1)&&(l=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+l),typeof t.checkForInactiveTracks>"u"&&(t.checkForInactiveTracks=!0);function m(){if(t.checkForInactiveTracks===!1)return!0;if("active"in c){if(!c.active)return!1}else if("ended"in c&&c.ended)return!1;return!0}this.record=function(){if(m()===!1)throw"Please make sure MediaStream is active.";S(),x=k=!1,n=!0,typeof t.timeSlice<"u"&&T()};function v(A,P){function Z(L,h){var F=L.numberOfAudioChannels,Y=L.leftBuffers.slice(0),N=L.rightBuffers.slice(0),V=L.sampleRate,j=L.internalInterleavedLength,K=L.desiredSampRate;F===2&&(Y=J(Y,j),N=J(N,j),K&&(Y=D(Y,K,V),N=D(N,K,V))),F===1&&(Y=J(Y,j),K&&(Y=D(Y,K,V))),K&&(V=K);function D(M,U,R){var _=Math.round(M.length*(U/R)),z=[],W=Number((M.length-1)/(_-1));z[0]=M[0];for(var $=1;$<_-1;$++){var B=$*W,q=Number(Math.floor(B)).toFixed(),Q=Number(Math.ceil(B)).toFixed(),H=B-q;z[$]=O(M[q],M[Q],H)}return z[_-1]=M[M.length-1],z}function O(M,U,R){return M+(U-M)*R}function J(M,U){for(var R=new Float64Array(U),_=0,z=M.length,W=0;W<z;W++){var $=M[W];R.set($,_),_+=$.length}return R}function X(M,U){for(var R=M.length+U.length,_=new Float64Array(R),z=0,W=0;W<R;)_[W++]=M[z],_[W++]=U[z],z++;return _}function G(M,U,R){for(var _=R.length,z=0;z<_;z++)M.setUint8(U+z,R.charCodeAt(z))}var ue;F===2&&(ue=X(Y,N)),F===1&&(ue=Y);var he=ue.length,re=44+he*2,ae=new ArrayBuffer(re),ie=new DataView(ae);G(ie,0,"RIFF"),ie.setUint32(4,36+he*2,!0),G(ie,8,"WAVE"),G(ie,12,"fmt "),ie.setUint32(16,16,!0),ie.setUint16(20,1,!0),ie.setUint16(22,F,!0),ie.setUint32(24,V,!0),ie.setUint32(28,V*F*2,!0),ie.setUint16(32,F*2,!0),ie.setUint16(34,16,!0),G(ie,36,"data"),ie.setUint32(40,he*2,!0);for(var fe=he,ve=44,be=1,s=0;s<fe;s++)ie.setInt16(ve,ue[s]*(32767*be),!0),ve+=2;if(h)return h({buffer:ae,view:ie});postMessage({buffer:ae,view:ie})}if(A.noWorker){Z(A,function(L){P(L.buffer,L.view)});return}var C=g(Z);C.onmessage=function(L){P(L.data.buffer,L.data.view),ge.revokeObjectURL(C.workerURL),C.terminate()},C.postMessage(A)}function g(A){var P=ge.createObjectURL(new Blob([A.toString(),";this.onmessage =  function (eee) {"+A.name+"(eee.data);}"],{type:"application/javascript"})),Z=new Worker(P);return Z.workerURL=P,Z}this.stop=function(A){A=A||function(){},n=!1,v({desiredSampRate:b,sampleRate:u,numberOfAudioChannels:l,internalInterleavedLength:i,leftBuffers:r,rightBuffers:l===1?[]:o,noWorker:t.noWorker},function(P,Z){e.blob=new Blob([Z],{type:"audio/wav"}),e.buffer=new ArrayBuffer(Z.buffer.byteLength),e.view=Z,e.sampleRate=b||u,e.bufferSize=y,e.length=i,x=!1,A&&A(e.blob)})},typeof ee.Storage>"u"&&(ee.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!ee.Storage.AudioContextConstructor||ee.Storage.AudioContextConstructor.state==="closed")&&(ee.Storage.AudioContextConstructor=new ee.Storage.AudioContext);var f=ee.Storage.AudioContextConstructor,p=f.createMediaStreamSource(c),d=[0,256,512,1024,2048,4096,8192,16384],y=typeof t.bufferSize>"u"?4096:t.bufferSize;if(d.indexOf(y)===-1&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(d,null,"	"))),f.createJavaScriptNode)a=f.createJavaScriptNode(y,l,l);else if(f.createScriptProcessor)a=f.createScriptProcessor(y,l,l);else throw"WebAudio API has no support on this browser.";p.connect(a),t.bufferSize||(y=a.bufferSize);var u=typeof t.sampleRate<"u"?t.sampleRate:f.sampleRate||44100;(u<22050||u>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var k=!1;this.pause=function(){k=!0},this.resume=function(){if(m()===!1)throw"Please make sure MediaStream is active.";if(!n){t.disableLogs||console.log("Seems recording has been restarted."),this.record();return}k=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,n&&this.stop(w),w()};function S(){r=[],o=[],i=0,x=!1,n=!1,k=!1,f=null,e.leftchannel=r,e.rightchannel=o,e.numberOfAudioChannels=l,e.desiredSampRate=b,e.sampleRate=u,e.recordingLength=i,E={left:[],right:[],recordingLength:0}}function w(){a&&(a.onaudioprocess=null,a.disconnect(),a=null),p&&(p.disconnect(),p=null),S()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var x=!1;function I(A){if(!k){if(m()===!1&&(t.disableLogs||console.log("MediaStream seems stopped."),a.disconnect(),n=!1),!n){p&&(p.disconnect(),p=null);return}x||(x=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var P=A.inputBuffer.getChannelData(0),Z=new Float32Array(P);if(r.push(Z),l===2){var C=A.inputBuffer.getChannelData(1),L=new Float32Array(C);o.push(L)}i+=y,e.recordingLength=i,typeof t.timeSlice<"u"&&(E.recordingLength+=y,E.left.push(Z),l===2&&E.right.push(L))}}a.onaudioprocess=I,f.createMediaStreamDestination?a.connect(f.createMediaStreamDestination()):a.connect(f.destination),this.leftchannel=r,this.rightchannel=o,this.numberOfAudioChannels=l,this.desiredSampRate=b,this.sampleRate=u,e.recordingLength=i;var E={left:[],right:[],recordingLength:0};function T(){!n||typeof t.ondataavailable!="function"||typeof t.timeSlice>"u"||(E.left.length?(v({desiredSampRate:b,sampleRate:u,numberOfAudioChannels:l,internalInterleavedLength:E.recordingLength,leftBuffers:E.left,rightBuffers:l===1?[]:E.right},function(A,P){var Z=new Blob([P],{type:"audio/wav"});t.ondataavailable(Z),setTimeout(T,t.timeSlice)}),E={left:[],right:[],recordingLength:0}):setTimeout(T,t.timeSlice))}}typeof ee<"u"&&(ee.StereoAudioRecorder=lt);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function nt(c,t){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";t=t||{},t.frameInterval||(t.frameInterval=10);var e=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(d){d in document.createElement("canvas")&&(e=!0)});var r=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,o=50,n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);r&&n&&n[2]&&(o=parseInt(n[2],10)),r&&o<52&&(e=!1),t.useWhammyRecorder&&(e=!1);var i,a;if(e)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),c instanceof HTMLCanvasElement)i=c;else if(c instanceof CanvasRenderingContext2D)i=c.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var l;this.record=function(){if(l=!0,e&&!t.useWhammyRecorder){var d;"captureStream"in i?d=i.captureStream(25):"mozCaptureStream"in i?d=i.mozCaptureStream(25):"webkitCaptureStream"in i&&(d=i.webkitCaptureStream(25));try{var y=new Ce;y.addTrack(me(d,"video")[0]),d=y}catch{}if(!d)throw"captureStream API are NOT available.";a=new ke(d,{mimeType:t.mimeType||"video/webm"}),a.record()}else p.frames=[],f=new Date().getTime(),g();t.initCallback&&t.initCallback()},this.getWebPImages=function(d){if(c.nodeName.toLowerCase()!=="canvas"){d();return}var y=p.frames.length;p.frames.forEach(function(u,k){var S=y-k;t.disableLogs||console.log(S+"/"+y+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(S,y);var w=u.image.toDataURL("image/webp",1);p.frames[k].image=w}),t.disableLogs||console.log("Generating WebM"),d()},this.stop=function(d){l=!1;var y=this;if(e&&a){a.stop(d);return}this.getWebPImages(function(){p.compile(function(u){t.disableLogs||console.log("Recording finished!"),y.blob=u,y.blob.forEach&&(y.blob=new Blob([],{type:"video/webm"})),d&&d(y.blob),p.frames=[]})})};var b=!1;this.pause=function(){if(b=!0,a instanceof ke){a.pause();return}},this.resume=function(){if(b=!1,a instanceof ke){a.resume();return}l||this.record()},this.clearRecordedData=function(){l&&this.stop(m),m()};function m(){p.frames=[],l=!1,b=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function v(){var d=document.createElement("canvas"),y=d.getContext("2d");return d.width=c.width,d.height=c.height,y.drawImage(c,0,0),d}function g(){if(b)return f=new Date().getTime(),setTimeout(g,500);if(c.nodeName.toLowerCase()==="canvas"){var d=new Date().getTime()-f;f=new Date().getTime(),p.frames.push({image:v(),duration:d}),l&&setTimeout(g,t.frameInterval);return}html2canvas(c,{grabMouse:typeof t.showMousePointer>"u"||t.showMousePointer,onrendered:function(y){var u=new Date().getTime()-f;if(!u)return setTimeout(g,t.frameInterval);f=new Date().getTime(),p.frames.push({image:y.toDataURL("image/webp",1),duration:u}),l&&setTimeout(g,t.frameInterval)}})}var f=new Date().getTime(),p=new _t.Video(100)}typeof ee<"u"&&(ee.CanvasRecorder=nt);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function ut(c,t){t=t||{},t.frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),l.width=t.canvas.width||320,l.height=t.canvas.height||240,b=l.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(m=t.video.cloneNode(),t.initCallback&&t.initCallback()):(m=document.createElement("video"),Yt(c,m),m.onloadedmetadata=function(){t.initCallback&&t.initCallback()},m.width=t.video.width,m.height=t.video.height),m.muted=!0,m.play(),v=new Date().getTime(),g=new _t.Video,t.disableLogs||(console.log("canvas resolutions",l.width,"*",l.height),console.log("video width/height",m.width||l.width,"*",m.height||l.height)),e(t.frameInterval)};function e(f){f=typeof f<"u"?f:10;var p=new Date().getTime()-v;if(!p)return setTimeout(e,f,f);if(i)return v=new Date().getTime(),setTimeout(e,100);v=new Date().getTime(),m.paused&&m.play(),b.drawImage(m,0,0,l.width,l.height),g.frames.push({duration:p,image:l.toDataURL("image/webp")}),n||setTimeout(e,f,f)}function r(f){var p=-1,d=f.length;(function y(){if(p++,p===d){f.callback();return}setTimeout(function(){f.functionToLoop(y,p)},1)})()}function o(f,p,d,y,u){var k=document.createElement("canvas");k.width=l.width,k.height=l.height;var S=k.getContext("2d"),w=[],x=p===-1,I=p&&p>0&&p<=f.length?p:f.length,E={r:0,g:0,b:0},T=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),A=d&&d>=0&&d<=1?d:0,P=y&&y>=0&&y<=1?y:0,Z=!1;r({length:I,functionToLoop:function(C,L){var h,F,Y,N=function(){!Z&&Y-h<=Y*P||(x&&(Z=!0),w.push(f[L])),C()};if(Z)N();else{var V=new Image;V.onload=function(){S.drawImage(V,0,0,l.width,l.height);var j=S.getImageData(0,0,l.width,l.height);h=0,F=j.data.length,Y=j.data.length/4;for(var K=0;K<F;K+=4){var D={r:j.data[K],g:j.data[K+1],b:j.data[K+2]},O=Math.sqrt(Math.pow(D.r-E.r,2)+Math.pow(D.g-E.g,2)+Math.pow(D.b-E.b,2));O<=T*A&&h++}N()},V.src=f[L].image}},callback:function(){w=w.concat(f.slice(I)),w.length<=0&&w.push(f[f.length-1]),u(w)}})}var n=!1;this.stop=function(f){f=f||function(){},n=!0;var p=this;setTimeout(function(){o(g.frames,-1,null,null,function(d){g.frames=d,t.advertisement&&t.advertisement.length&&(g.frames=t.advertisement.concat(g.frames)),g.compile(function(y){p.blob=y,p.blob.forEach&&(p.blob=new Blob([],{type:"video/webm"})),f&&f(p.blob)})})},10)};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1,n&&this.record()},this.clearRecordedData=function(){n||this.stop(a),a()};function a(){g.frames=[],n=!0,i=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var l=document.createElement("canvas"),b=l.getContext("2d"),m,v,g}typeof ee<"u"&&(ee.WhammyRecorder=ut);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var _t=function(){function c(r){this.frames=[],this.duration=r||1,this.quality=.8}c.prototype.add=function(r,o){if("canvas"in r&&(r=r.canvas),"toDataURL"in r&&(r=r.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(r))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:r,duration:o||this.duration})};function t(r){var o=ge.createObjectURL(new Blob([r.toString(),"this.onmessage =  function (eee) {"+r.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(o);return ge.revokeObjectURL(o),n}function e(r){function o(u){var k=i(u);if(!k)return[];for(var S=3e4,w=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:d(k.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:k.width,id:176},{data:k.height,id:186}]}]}]}]}],x=0,I=0;x<u.length;){var E=[],T=0;do E.push(u[x]),T+=u[x].duration,x++;while(x<u.length&&T<S);var A=0,P={id:524531317,data:n(I,A,E)};w[1].data.push(P),I+=T}return m(w)}function n(u,k,S){return[{data:u,id:231}].concat(S.map(function(w){var x=v({discardable:0,frame:w.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(k)});return k+=w.duration,{data:x,id:163}}))}function i(u){if(!u[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var k=u[0].width,S=u[0].height,w=u[0].duration,x=1;x<u.length;x++)w+=u[x].duration;return{duration:w,width:k,height:S}}function a(u){for(var k=[];u>0;)k.push(u&255),u=u>>8;return new Uint8Array(k.reverse())}function l(u){return new Uint8Array(u.split("").map(function(k){return k.charCodeAt(0)}))}function b(u){var k=[],S=u.length%8?new Array(9-u.length%8).join("0"):"";u=S+u;for(var w=0;w<u.length;w+=8)k.push(parseInt(u.substr(w,8),2));return new Uint8Array(k)}function m(u){for(var k=[],S=0;S<u.length;S++){var w=u[S].data;typeof w=="object"&&(w=m(w)),typeof w=="number"&&(w=b(w.toString(2))),typeof w=="string"&&(w=l(w));var x=w.size||w.byteLength||w.length,I=Math.ceil(Math.ceil(Math.log(x)/Math.log(2))/8),E=x.toString(2),T=new Array(I*7+7+1-E.length).join("0")+E,A=new Array(I).join("0")+"1"+T;k.push(a(u[S].id)),k.push(b(A)),k.push(w)}return new Blob(k,{type:"video/webm"})}function v(u){var k=0;if(u.keyframe&&(k|=128),u.invisible&&(k|=8),u.lacing&&(k|=u.lacing<<1),u.discardable&&(k|=1),u.trackNum>127)throw"TrackNumber > 127 not supported";var S=[u.trackNum|128,u.timecode>>8,u.timecode&255,k].map(function(w){return String.fromCharCode(w)}).join("")+u.frame;return S}function g(u){for(var k=u.RIFF[0].WEBP[0],S=k.indexOf("*"),w=0,x=[];w<4;w++)x[w]=k.charCodeAt(S+3+w);var I,E,T;return T=x[1]<<8|x[0],I=T&16383,T=x[3]<<8|x[2],E=T&16383,{width:I,height:E,data:k,riff:u}}function f(u,k){return parseInt(u.substr(k+4,4).split("").map(function(S){var w=S.charCodeAt(0).toString(2);return new Array(8-w.length+1).join("0")+w}).join(""),2)}function p(u){for(var k=0,S={};k<u.length;){var w=u.substr(k,4),x=f(u,k),I=u.substr(k+4+4,x);k+=8+x,S[w]=S[w]||[],w==="RIFF"||w==="LIST"?S[w].push(p(I)):S[w].push(I)}return S}function d(u){return[].slice.call(new Uint8Array(new Float64Array([u]).buffer),0).map(function(k){return String.fromCharCode(k)}).reverse().join("")}var y=new o(r.map(function(u){var k=g(p(atob(u.image.slice(23))));return k.duration=u.duration,k}));postMessage(y)}return c.prototype.compile=function(r){var o=t(e);o.onmessage=function(n){if(n.data.error){console.error(n.data.error);return}r(n.data)},o.postMessage(this.frames)},{Video:c}}();typeof ee<"u"&&(ee.Whammy=_t);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var xe={init:function(){var c=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var t=1,e=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r,o=indexedDB.open(e,t);function n(a){a.createObjectStore(c.dataStoreName)}function i(){var a=r.transaction([c.dataStoreName],"readwrite");c.videoBlob&&a.objectStore(c.dataStoreName).put(c.videoBlob,"videoBlob"),c.gifBlob&&a.objectStore(c.dataStoreName).put(c.gifBlob,"gifBlob"),c.audioBlob&&a.objectStore(c.dataStoreName).put(c.audioBlob,"audioBlob");function l(b){a.objectStore(c.dataStoreName).get(b).onsuccess=function(m){c.callback&&c.callback(m.target.result,b)}}l("audioBlob"),l("videoBlob"),l("gifBlob")}o.onerror=c.onError,o.onsuccess=function(){if(r=o.result,r.onerror=c.onError,r.setVersion)if(r.version!==t){var a=r.setVersion(t);a.onsuccess=function(){n(r),i()}}else i();else i()},o.onupgradeneeded=function(a){n(a.target.result)}},Fetch:function(c){return this.callback=c,this.init(),this},Store:function(c){return this.audioBlob=c.audioBlob,this.videoBlob=c.videoBlob,this.gifBlob=c.gifBlob,this.init(),this},onError:function(c){console.error(JSON.stringify(c,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof ee<"u"&&(ee.DiskStorage=xe);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function rt(c,t){if(typeof GIFEncoder>"u"){var e=document.createElement("script");e.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(e)}t=t||{};var r=c instanceof CanvasRenderingContext2D||c instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(f.record,1e3);return}if(!l){setTimeout(f.record,1e3);return}r||(t.width||(t.width=b.offsetWidth||320),t.height||(t.height=b.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),i.width=t.canvas.width||320,i.height=t.canvas.height||240,b.width=t.video.width||320,b.height=t.video.height||240),g=new GIFEncoder,g.setRepeat(0),g.setDelay(t.frameRate||200),g.setQuality(t.quality||10),g.start(),typeof t.onGifRecordingStarted=="function"&&t.onGifRecordingStarted();function p(d){if(f.clearedRecordedData!==!0){if(o)return setTimeout(function(){p(d)},100);m=Te(p),typeof v===void 0&&(v=d),!(d-v<90)&&(!r&&b.paused&&b.play(),r||a.drawImage(b,0,0,i.width,i.height),t.onGifPreview&&t.onGifPreview(i.toDataURL("image/png")),g.addFrame(a),v=d)}}m=Te(p),t.initCallback&&t.initCallback()},this.stop=function(p){p=p||function(){},m&&Ee(m),this.blob=new Blob([new Uint8Array(g.stream().bin)],{type:"image/gif"}),p(this.blob),g.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,n()};function n(){g&&(g.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var i=document.createElement("canvas"),a=i.getContext("2d");r&&(c instanceof CanvasRenderingContext2D?(a=c,i=a.canvas):c instanceof HTMLCanvasElement&&(a=c.getContext("2d"),i=c));var l=!0;if(!r){var b=document.createElement("video");b.muted=!0,b.autoplay=!0,b.playsInline=!0,l=!1,b.onloadedmetadata=function(){l=!0},Yt(c,b),b.play()}var m=null,v,g,f=this}typeof ee<"u"&&(ee.GifRecorder=rt);function mt(c,t){var e="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(w){typeof ee<"u"||w&&(typeof window<"u"||typeof global>"u"||(global.navigator={userAgent:e,getUserMedia:function(){}},global.console||(global.console={}),(typeof global.console.log>"u"||typeof global.console.error>"u")&&(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),typeof document>"u"&&(w.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var x={getContext:function(){return x},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return x},w.HTMLVideoElement=function(){}),typeof location>"u"&&(w.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(w.screen={width:0,height:0}),typeof b>"u"&&(w.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),w.window=global))})(typeof global<"u"?global:null),t=t||"multi-streams-mixer";var r=[],o=!1,n=document.createElement("canvas"),i=n.getContext("2d");n.style.opacity=0,n.style.position="absolute",n.style.zIndex=-1,n.style.top="-1000em",n.style.left="-1000em",n.className=t,(document.body||document.documentElement).appendChild(n),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var a=this,l=window.AudioContext;typeof l>"u"&&(typeof webkitAudioContext<"u"&&(l=webkitAudioContext),typeof mozAudioContext<"u"&&(l=mozAudioContext));var b=window.URL;typeof b>"u"&&typeof webkitURL<"u"&&(b=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var m=window.MediaStream;typeof m>"u"&&typeof webkitMediaStream<"u"&&(m=webkitMediaStream),typeof m<"u"&&typeof m.prototype.stop>"u"&&(m.prototype.stop=function(){this.getTracks().forEach(function(w){w.stop()})});var v={};typeof l<"u"?v.AudioContext=l:typeof webkitAudioContext<"u"&&(v.AudioContext=webkitAudioContext);function g(w,x){"srcObject"in x?x.srcObject=w:"mozSrcObject"in x?x.mozSrcObject=w:x.srcObject=w}this.startDrawingFrames=function(){f()};function f(){if(!o){var w=r.length,x=!1,I=[];if(r.forEach(function(T){T.stream||(T.stream={}),T.stream.fullcanvas?x=T:I.push(T)}),x)n.width=x.stream.width,n.height=x.stream.height;else if(I.length){n.width=w>1?I[0].width*2:I[0].width;var E=1;(w===3||w===4)&&(E=2),(w===5||w===6)&&(E=3),(w===7||w===8)&&(E=4),(w===9||w===10)&&(E=5),n.height=I[0].height*E}else n.width=a.width||360,n.height=a.height||240;x&&x instanceof HTMLVideoElement&&p(x),I.forEach(function(T,A){p(T,A)}),setTimeout(f,a.frameInterval)}}function p(w,x){if(!o){var I=0,E=0,T=w.width,A=w.height;x===1&&(I=w.width),x===2&&(E=w.height),x===3&&(I=w.width,E=w.height),x===4&&(E=w.height*2),x===5&&(I=w.width,E=w.height*2),x===6&&(E=w.height*3),x===7&&(I=w.width,E=w.height*3),typeof w.stream.left<"u"&&(I=w.stream.left),typeof w.stream.top<"u"&&(E=w.stream.top),typeof w.stream.width<"u"&&(T=w.stream.width),typeof w.stream.height<"u"&&(A=w.stream.height),i.drawImage(w,I,E,T,A),typeof w.stream.onRender=="function"&&w.stream.onRender(i,I,E,T,A,x)}}function d(){o=!1;var w=y(),x=u();return x&&x.getTracks().filter(function(I){return I.kind==="audio"}).forEach(function(I){w.addTrack(I)}),c.forEach(function(I){I.fullcanvas}),w}function y(){S();var w;"captureStream"in n?w=n.captureStream():"mozCaptureStream"in n?w=n.mozCaptureStream():a.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var x=new m;return w.getTracks().filter(function(I){return I.kind==="video"}).forEach(function(I){x.addTrack(I)}),n.stream=x,x}function u(){v.AudioContextConstructor||(v.AudioContextConstructor=new v.AudioContext),a.audioContext=v.AudioContextConstructor,a.audioSources=[],a.useGainNode===!0&&(a.gainNode=a.audioContext.createGain(),a.gainNode.connect(a.audioContext.destination),a.gainNode.gain.value=0);var w=0;if(c.forEach(function(x){if(x.getTracks().filter(function(E){return E.kind==="audio"}).length){w++;var I=a.audioContext.createMediaStreamSource(x);a.useGainNode===!0&&I.connect(a.gainNode),a.audioSources.push(I)}}),!!w)return a.audioDestination=a.audioContext.createMediaStreamDestination(),a.audioSources.forEach(function(x){x.connect(a.audioDestination)}),a.audioDestination.stream}function k(w){var x=document.createElement("video");return g(w,x),x.className=t,x.muted=!0,x.volume=0,x.width=w.width||a.width||360,x.height=w.height||a.height||240,x.play(),x}this.appendStreams=function(w){if(!w)throw"First parameter is required.";w instanceof Array||(w=[w]),w.forEach(function(x){var I=new m;if(x.getTracks().filter(function(A){return A.kind==="video"}).length){var E=k(x);E.stream=x,r.push(E),I.addTrack(x.getTracks().filter(function(A){return A.kind==="video"})[0])}if(x.getTracks().filter(function(A){return A.kind==="audio"}).length){var T=a.audioContext.createMediaStreamSource(x);a.audioDestination=a.audioContext.createMediaStreamDestination(),T.connect(a.audioDestination),I.addTrack(a.audioDestination.stream.getTracks().filter(function(A){return A.kind==="audio"})[0])}c.push(I)})},this.releaseStreams=function(){r=[],o=!0,a.gainNode&&(a.gainNode.disconnect(),a.gainNode=null),a.audioSources.length&&(a.audioSources.forEach(function(w){w.disconnect()}),a.audioSources=[]),a.audioDestination&&(a.audioDestination.disconnect(),a.audioDestination=null),a.audioContext&&a.audioContext.close(),a.audioContext=null,i.clearRect(0,0,n.width,n.height),n.stream&&(n.stream.stop(),n.stream=null)},this.resetVideoStreams=function(w){w&&!(w instanceof Array)&&(w=[w]),S(w)};function S(w){r=[],w=w||c,w.forEach(function(x){if(x.getTracks().filter(function(E){return E.kind==="video"}).length){var I=k(x);I.stream=x,r.push(I)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=d}typeof ee>"u"&&(typeof module<"u"&&(module.exports=mt),typeof define=="function"&&define.amd&&define("MultiStreamsMixer",[],function(){return mt}));/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Xt(c,t){c=c||[];var e=this,r,o;t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},t.frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){r=new mt(c,t.elementClass||"multi-streams-mixer"),n().length&&(r.frameInterval=t.frameInterval||10,r.width=t.video.width||360,r.height=t.video.height||240,r.startDrawingFrames()),t.previewStream&&typeof t.previewStream=="function"&&t.previewStream(r.getMixedStream()),o=new ke(r.getMixedStream(),t),o.record()};function n(){var i=[];return c.forEach(function(a){me(a,"video").forEach(function(l){i.push(l)})}),i}this.stop=function(i){o&&o.stop(function(a){e.blob=a,i(a),e.clearRecordedData()})},this.pause=function(){o&&o.pause()},this.resume=function(){o&&o.resume()},this.clearRecordedData=function(){o&&(o.clearRecordedData(),o=null),r&&(r.releaseStreams(),r=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),c.concat(i),!(!o||!r)&&(r.appendStreams(i),t.previewStream&&typeof t.previewStream=="function"&&t.previewStream(r.getMixedStream()))},this.resetVideoStreams=function(i){r&&(i&&!(i instanceof Array)&&(i=[i]),r.resetVideoStreams(i))},this.getMixer=function(){return r},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof ee<"u"&&(ee.MultiStreamRecorder=Xt);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function An(c,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof c>"u")throw'First argument "MediaStream" is required.';var e=this;e.recordRTC=new ee(c,t),this.startRecording=function(){return new Promise(function(r,o){try{e.recordRTC.startRecording(),r()}catch(n){o(n)}})},this.stopRecording=function(){return new Promise(function(r,o){try{e.recordRTC.stopRecording(function(n){if(e.blob=e.recordRTC.getBlob(),!e.blob||!e.blob.size){o("Empty blob.",e.blob);return}r(n)})}catch(n){o(n)}})},this.pauseRecording=function(){return new Promise(function(r,o){try{e.recordRTC.pauseRecording(),r()}catch(n){o(n)}})},this.resumeRecording=function(){return new Promise(function(r,o){try{e.recordRTC.resumeRecording(),r()}catch(n){o(n)}})},this.getDataURL=function(r){return new Promise(function(o,n){try{e.recordRTC.getDataURL(function(i){o(i)})}catch(i){n(i)}})},this.getBlob=function(){return new Promise(function(r,o){try{r(e.recordRTC.getBlob())}catch(n){o(n)}})},this.getInternalRecorder=function(){return new Promise(function(r,o){try{r(e.recordRTC.getInternalRecorder())}catch(n){o(n)}})},this.reset=function(){return new Promise(function(r,o){try{r(e.recordRTC.reset())}catch(n){o(n)}})},this.destroy=function(){return new Promise(function(r,o){try{r(e.recordRTC.destroy())}catch(n){o(n)}})},this.getState=function(){return new Promise(function(r,o){try{r(e.recordRTC.getState())}catch(n){o(n)}})},this.blob=null,this.version="5.6.2"}typeof ee<"u"&&(ee.RecordRTCPromisesHandler=An);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function $e(c,t){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),t=t||{},t.width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0;var e;function r(){return new ReadableStream({start:function(b){var m=document.createElement("canvas"),v=document.createElement("video"),g=!0;v.srcObject=c,v.muted=!0,v.height=t.height,v.width=t.width,v.volume=0,v.onplaying=function(){m.width=t.width,m.height=t.height;var f=m.getContext("2d"),p=1e3/t.frameRate,d=setInterval(function(){if(e&&(clearInterval(d),b.close()),g&&(g=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),f.drawImage(v,0,0),b._controlledReadableStream.state!=="closed")try{b.enqueue(f.getImageData(0,0,t.width,t.height))}catch{}},p)},v.play()}})}var o;function n(b,m){if(!t.workerPath&&!m){e=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(g){g.arrayBuffer().then(function(f){n(b,f)})});return}if(!t.workerPath&&m instanceof ArrayBuffer){var v=new Blob([m],{type:"text/javascript"});t.workerPath=ge.createObjectURL(v)}t.workerPath||console.error("workerPath parameter is missing."),o=new Worker(t.workerPath),o.postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),o.addEventListener("message",function(g){g.data==="READY"?(o.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),r().pipeTo(new WritableStream({write:function(f){if(e){console.error("Got image, but recorder is finished!");return}o.postMessage(f.data.buffer,[f.data.buffer])}}))):g.data&&(i||l.push(g.data))})}this.record=function(){l=[],i=!1,this.blob=null,n(c),typeof t.initCallback=="function"&&t.initCallback()};var i;this.pause=function(){i=!0},this.resume=function(){i=!1};function a(b){if(!o){b&&b();return}o.addEventListener("message",function(m){m.data===null&&(o.terminate(),o=null,b&&b())}),o.postMessage(null)}var l=[];this.stop=function(b){e=!0;var m=this;a(function(){m.blob=new Blob(l,{type:"video/webm"}),b(m.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){l=[],i=!1,this.blob=null},this.blob=null}typeof ee<"u"&&(ee.WebAssemblyRecorder=$e);function xt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Be=xt();function Qt(c){Be=c}const Jt=/[&<>"']/,Tn=new RegExp(Jt.source,"g"),en=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,zn=new RegExp(en.source,"g"),En={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ut=c=>En[c];function we(c,t){if(t){if(Jt.test(c))return c.replace(Tn,Ut)}else if(en.test(c))return c.replace(zn,Ut);return c}const Ln=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function In(c){return c.replace(Ln,(t,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const Bn=/(^|[^\[])\^/g;function le(c,t){let e=typeof c=="string"?c:c.source;t=t||"";const r={replace:(o,n)=>{let i=typeof n=="string"?n:n.source;return i=i.replace(Bn,"$1"),e=e.replace(o,i),r},getRegex:()=>new RegExp(e,t)};return r}function Ft(c){try{c=encodeURI(c).replace(/%25/g,"%")}catch{return null}return c}const je={exec:()=>null};function Mt(c,t){const e=c.replace(/\|/g,(n,i,a)=>{let l=!1,b=i;for(;--b>=0&&a[b]==="\\";)l=!l;return l?"|":" |"}),r=e.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Qe(c,t,e){const r=c.length;if(r===0)return"";let o=0;for(;o<r;){const n=c.charAt(r-o-1);if(n===t&&!e)o++;else if(n!==t&&e)o++;else break}return c.slice(0,r-o)}function Dn(c,t){if(c.indexOf(t[1])===-1)return-1;let e=0;for(let r=0;r<c.length;r++)if(c[r]==="\\")r++;else if(c[r]===t[0])e++;else if(c[r]===t[1]&&(e--,e<0))return r;return-1}function Pt(c,t,e,r){const o=t.href,n=t.title?we(t.title):null,i=c[1].replace(/\\([\[\]])/g,"$1");if(c[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:n,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:n,text:we(i)}}function On(c,t){const e=c.match(/^(\s+)(?:```)/);if(e===null)return t;const r=e[1];return t.split(`
`).map(o=>{const n=o.match(/^\s+/);if(n===null)return o;const[i]=n;return i.length>=r.length?o.slice(r.length):o}).join(`
`)}class it{constructor(t){ce(this,"options");ce(this,"rules");ce(this,"lexer");this.options=t||Be}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Qe(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],o=On(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:o}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=Qe(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const r=Qe(e[0].replace(/^ *>[ \t]?/gm,""),`
`),o=this.lexer.state.top;this.lexer.state.top=!0;const n=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:n,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const o=r.length>1,n={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");const i=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",b=!1;for(;t;){let m=!1;if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;a=e[0],t=t.substring(a.length);let v=e[2].split(`
`,1)[0].replace(/^\t+/,u=>" ".repeat(3*u.length)),g=t.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=v.trimStart()):(f=e[2].search(/[^ ]/),f=f>4?1:f,l=v.slice(f),f+=e[1].length);let p=!1;if(!v&&/^ *$/.test(g)&&(a+=g+`
`,t=t.substring(g.length+1),m=!0),!m){const u=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),k=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;t;){const x=t.split(`
`,1)[0];if(g=x,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(g)||w.test(g)||u.test(g)||k.test(t))break;if(g.search(/[^ ]/)>=f||!g.trim())l+=`
`+g.slice(f);else{if(p||v.search(/[^ ]/)>=4||S.test(v)||w.test(v)||k.test(v))break;l+=`
`+g}!p&&!g.trim()&&(p=!0),a+=x+`
`,t=t.substring(x.length+1),v=g.slice(f)}}n.loose||(b?n.loose=!0:/\n *\n *$/.test(a)&&(b=!0));let d=null,y;this.options.gfm&&(d=/^\[[ xX]\] /.exec(l),d&&(y=d[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),n.items.push({type:"list_item",raw:a,task:!!d,checked:y,loose:!1,text:l,tokens:[]}),n.raw+=a}n.items[n.items.length-1].raw=a.trimEnd(),n.items[n.items.length-1].text=l.trimEnd(),n.raw=n.raw.trimEnd();for(let m=0;m<n.items.length;m++)if(this.lexer.state.top=!1,n.items[m].tokens=this.lexer.blockTokens(n.items[m].text,[]),!n.loose){const v=n.items[m].tokens.filter(f=>f.type==="space"),g=v.length>0&&v.some(f=>/\n.*\n/.test(f.raw));n.loose=g}if(n.loose)for(let m=0;m<n.items.length;m++)n.items[m].loose=!0;return n}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:o,title:n}}}table(t){const e=this.rules.block.table.exec(t);if(!e||!/[:|]/.test(e[2]))return;const r=Mt(e[1]),o=e[2].replace(/^\||\| *$/g,"").split("|"),n=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===o.length){for(const a of o)/^ *-+: *$/.test(a)?i.align.push("right"):/^ *:-+: *$/.test(a)?i.align.push("center"):/^ *:-+ *$/.test(a)?i.align.push("left"):i.align.push(null);for(const a of r)i.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of n)i.rows.push(Mt(a,i.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:we(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=Qe(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{const i=Dn(e[2],"()");if(i>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let o=e[2],n="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);i&&(o=i[1],n=i[3])}else n=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),Pt(e,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const o=(r[2]||r[1]).replace(/\s+/g," "),n=e[o.toLowerCase()];if(!n){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Pt(r,n,r[0],this.lexer)}}emStrong(t,e,r=""){let o=this.rules.inline.emStrongLDelim.exec(t);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const i=[...o[0]].length-1;let a,l,b=i,m=0;const v=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,e=e.slice(-1*t.length+i);(o=v.exec(e))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){b+=l;continue}else if((o[5]||o[6])&&i%3&&!((i+l)%3)){m+=l;continue}if(b-=l,b>0)continue;l=Math.min(l,l+b+m);const g=[...o[0]][0].length,f=t.slice(0,i+o.index+g+l);if(Math.min(i,l)%2){const d=f.slice(1,-1);return{type:"em",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),n=/^ /.test(r)&&/ $/.test(r);return o&&n&&(r=r.substring(1,r.length-1)),r=we(r,!0),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,o;return e[2]==="@"?(r=we(e[1]),o="mailto:"+r):(r=we(e[1]),o=r),{type:"link",raw:e[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let o,n;if(e[2]==="@")o=we(e[0]),n="mailto:"+o;else{let i;do i=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(i!==e[0]);o=we(e[0]),e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:o,href:n,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){let r;return this.lexer.state.inRawBlock?r=e[0]:r=we(e[0]),{type:"text",raw:e[0],text:r}}}}const Un=/^(?: *(?:\n|$))+/,Fn=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Mn=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qe=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Pn=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,tn=/(?:[*+-]|\d{1,9}[.)])/,nn=le(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,tn).getRegex(),Rt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Nn=/^[^\n]+/,St=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jn=le(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",St).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Wn=le(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,tn).getRegex(),dt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ct=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$n=le("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Ct).replace("tag",dt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rn=le(Rt).replace("hr",qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt).getRegex(),Zn=le(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rn).getRegex(),At={blockquote:Zn,code:Fn,def:jn,fences:Mn,heading:Pn,hr:qe,html:$n,lheading:nn,list:Wn,newline:Un,paragraph:rn,table:je,text:Nn},Nt=le("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt).getRegex(),qn={...At,table:Nt,paragraph:le(Rt).replace("hr",qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Nt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt).getRegex()},Hn={...At,html:le(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ct).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:je,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:le(Rt).replace("hr",qe).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},an=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Gn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,on=/^( {2,}|\\)\n(?!\s*$)/,Vn=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,He="\\p{P}$+<=>`^|~",Kn=le(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,He).getRegex(),Yn=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Xn=le(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,He).getRegex(),Qn=le("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,He).getRegex(),Jn=le("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,He).getRegex(),er=le(/\\([punct])/,"gu").replace(/punct/g,He).getRegex(),tr=le(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nr=le(Ct).replace("(?:-->|$)","-->").getRegex(),rr=le("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),at=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ir=le(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",at).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),sn=le(/^!?\[(label)\]\[(ref)\]/).replace("label",at).replace("ref",St).getRegex(),ln=le(/^!?\[(ref)\](?:\[\])?/).replace("ref",St).getRegex(),ar=le("reflink|nolink(?!\\()","g").replace("reflink",sn).replace("nolink",ln).getRegex(),Tt={_backpedal:je,anyPunctuation:er,autolink:tr,blockSkip:Yn,br:on,code:Gn,del:je,emStrongLDelim:Xn,emStrongRDelimAst:Qn,emStrongRDelimUnd:Jn,escape:an,link:ir,nolink:ln,punctuation:Kn,reflink:sn,reflinkSearch:ar,tag:rr,text:Vn,url:je},or={...Tt,link:le(/^!?\[(label)\]\((.*?)\)/).replace("label",at).getRegex(),reflink:le(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",at).getRegex()},gt={...Tt,escape:le(an).replace("])","~|])").getRegex(),url:le(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sr={...gt,br:le(on).replace("{2,}","*").getRegex(),text:le(gt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Je={normal:At,gfm:qn,pedantic:Hn},Pe={normal:Tt,gfm:gt,breaks:sr,pedantic:or};class Re{constructor(t){ce(this,"tokens");ce(this,"options");ce(this,"state");ce(this,"tokenizer");ce(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Be,this.options.tokenizer=this.options.tokenizer||new it,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Je.normal,inline:Pe.normal};this.options.pedantic?(e.block=Je.pedantic,e.inline=Pe.pedantic):this.options.gfm&&(e.block=Je.gfm,this.options.breaks?e.inline=Pe.breaks:e.inline=Pe.gfm),this.tokenizer.rules=e}static get rules(){return{block:Je,inline:Pe}}static lex(t,e){return new Re(e).lex(t)}static lexInline(t,e){return new Re(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,l,b)=>l+"    ".repeat(b.length));let r,o,n,i;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=e[e.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=e[e.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(n=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let b;this.options.extensions.startBlock.forEach(m=>{b=m.call({lexer:this},l),typeof b=="number"&&b>=0&&(a=Math.min(a,b))}),a<1/0&&a>=0&&(n=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(n))){o=e[e.length-1],i&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),i=n.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=e[e.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let r,o,n,i=t,a,l,b;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,a.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(b=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(r=m.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=e[e.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=e[e.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,i,b)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),e.push(r);continue}if(n=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const v=t.slice(1);let g;this.options.extensions.startInline.forEach(f=>{g=f.call({lexer:this},v),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(n=t.substring(0,m+1))}if(r=this.tokenizer.inlineText(n)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(b=r.raw.slice(-1)),l=!0,o=e[e.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(t){const m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return e}}class ot{constructor(t){ce(this,"options");this.options=t||Be}code(t,e,r){var n;const o=(n=(e||"").match(/^\S*/))==null?void 0:n[0];return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+we(o)+'">'+(r?t:we(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:we(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,e){return t}heading(t,e,r){return`<h${e}>${t}</h${e}>
`}hr(){return`<hr>
`}list(t,e,r){const o=e?"ol":"ul",n=e&&r!==1?' start="'+r+'"':"";return"<"+o+n+`>
`+t+"</"+o+`>
`}listitem(t,e,r){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,e,r){const o=Ft(t);if(o===null)return r;t=o;let n='<a href="'+t+'"';return e&&(n+=' title="'+e+'"'),n+=">"+r+"</a>",n}image(t,e,r){const o=Ft(t);if(o===null)return r;t=o;let n=`<img src="${t}" alt="${r}"`;return e&&(n+=` title="${e}"`),n+=">",n}text(t){return t}}class zt{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,r){return""+r}image(t,e,r){return""+r}br(){return""}}class Se{constructor(t){ce(this,"options");ce(this,"renderer");ce(this,"textRenderer");this.options=t||Be,this.options.renderer=this.options.renderer||new ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zt}static parse(t,e){return new Se(e).parse(t)}static parseInline(t,e){return new Se(e).parseInline(t)}parse(t,e=!0){let r="";for(let o=0;o<t.length;o++){const n=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const i=n,a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=a||"";continue}}switch(n.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const i=n;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,In(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=n;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=n;let a="",l="";for(let m=0;m<i.header.length;m++)l+=this.renderer.tablecell(this.parseInline(i.header[m].tokens),{header:!0,align:i.align[m]});a+=this.renderer.tablerow(l);let b="";for(let m=0;m<i.rows.length;m++){const v=i.rows[m];l="";for(let g=0;g<v.length;g++)l+=this.renderer.tablecell(this.parseInline(v[g].tokens),{header:!1,align:i.align[g]});b+=this.renderer.tablerow(l)}r+=this.renderer.table(a,b);continue}case"blockquote":{const i=n,a=this.parse(i.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const i=n,a=i.ordered,l=i.start,b=i.loose;let m="";for(let v=0;v<i.items.length;v++){const g=i.items[v],f=g.checked,p=g.task;let d="";if(g.task){const y=this.renderer.checkbox(!!f);b?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=y+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=y+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:y+" "}):d+=y+" "}d+=this.parse(g.tokens,b),m+=this.renderer.listitem(d,p,!!f)}r+=this.renderer.list(m,a,l);continue}case"html":{const i=n;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=n;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=n,a=i.tokens?this.parseInline(i.tokens):i.text;for(;o+1<t.length&&t[o+1].type==="text";)i=t[++o],a+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);r+=e?this.renderer.paragraph(a):a;continue}default:{const i='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(t,e){e=e||this.renderer;let r="";for(let o=0;o<t.length;o++){const n=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const i=this.options.extensions.renderers[n.type].call({parser:this},n);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){r+=i||"";continue}}switch(n.type){case"escape":{const i=n;r+=e.text(i.text);break}case"html":{const i=n;r+=e.html(i.text);break}case"link":{const i=n;r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break}case"image":{const i=n;r+=e.image(i.href,i.title,i.text);break}case"strong":{const i=n;r+=e.strong(this.parseInline(i.tokens,e));break}case"em":{const i=n;r+=e.em(this.parseInline(i.tokens,e));break}case"codespan":{const i=n;r+=e.codespan(i.text);break}case"br":{r+=e.br();break}case"del":{const i=n;r+=e.del(this.parseInline(i.tokens,e));break}case"text":{const i=n;r+=e.text(i.text);break}default:{const i='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}}class We{constructor(t){ce(this,"options");this.options=t||Be}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}ce(We,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Ze,vt,st,un;class lr{constructor(...t){ft(this,Ze);ft(this,st);ce(this,"defaults",xt());ce(this,"options",this.setOptions);ce(this,"parse",Ke(this,Ze,vt).call(this,Re.lex,Se.parse));ce(this,"parseInline",Ke(this,Ze,vt).call(this,Re.lexInline,Se.parseInline));ce(this,"Parser",Se);ce(this,"Renderer",ot);ce(this,"TextRenderer",zt);ce(this,"Lexer",Re);ce(this,"Tokenizer",it);ce(this,"Hooks",We);this.use(...t)}walkTokens(t,e){var o,n;let r=[];for(const i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{const a=i;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,e));for(const l of a.rows)for(const b of l)r=r.concat(this.walkTokens(b.tokens,e));break}case"list":{const a=i;r=r.concat(this.walkTokens(a.items,e));break}default:{const a=i;(n=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&n[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{r=r.concat(this.walkTokens(a[l],e))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const o={...r};if(o.async=this.defaults.async||o.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){const i=e.renderers[n.name];i?e.renderers[n.name]=function(...a){let l=n.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=e[n.level];i?i.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),o.extensions=e),r.renderer){const n=this.defaults.renderer||new ot(this.defaults);for(const i in r.renderer){if(!(i in n))throw new Error(`renderer '${i}' does not exist`);if(i==="options")continue;const a=i,l=r.renderer[a],b=n[a];n[a]=(...m)=>{let v=l.apply(n,m);return v===!1&&(v=b.apply(n,m)),v||""}}o.renderer=n}if(r.tokenizer){const n=this.defaults.tokenizer||new it(this.defaults);for(const i in r.tokenizer){if(!(i in n))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const a=i,l=r.tokenizer[a],b=n[a];n[a]=(...m)=>{let v=l.apply(n,m);return v===!1&&(v=b.apply(n,m)),v}}o.tokenizer=n}if(r.hooks){const n=this.defaults.hooks||new We;for(const i in r.hooks){if(!(i in n))throw new Error(`hook '${i}' does not exist`);if(i==="options")continue;const a=i,l=r.hooks[a],b=n[a];We.passThroughHooks.has(i)?n[a]=m=>{if(this.defaults.async)return Promise.resolve(l.call(n,m)).then(g=>b.call(n,g));const v=l.call(n,m);return b.call(n,v)}:n[a]=(...m)=>{let v=l.apply(n,m);return v===!1&&(v=b.apply(n,m)),v}}o.hooks=n}if(r.walkTokens){const n=this.defaults.walkTokens,i=r.walkTokens;o.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),n&&(l=l.concat(n.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Re.lex(t,e??this.defaults)}parser(t,e){return Se.parse(t,e??this.defaults)}}Ze=new WeakSet,vt=function(t,e){return(r,o)=>{const n={...o},i={...this.defaults,...n};this.defaults.async===!0&&n.async===!1&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const a=Ke(this,st,un).call(this,!!i.silent,!!i.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(l=>t(l,i)).then(l=>i.hooks?i.hooks.processAllTokens(l):l).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>e(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(a);try{i.hooks&&(r=i.hooks.preprocess(r));let l=t(r,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let b=e(l,i);return i.hooks&&(b=i.hooks.postprocess(b)),b}catch(l){return a(l)}}},st=new WeakSet,un=function(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const o="<p>An error occurred:</p><pre>"+we(r.message+"",!0)+"</pre>";return e?Promise.resolve(o):o}if(e)return Promise.reject(r);throw r}};const Ie=new lr;function se(c,t){return Ie.parse(c,t)}se.options=se.setOptions=function(c){return Ie.setOptions(c),se.defaults=Ie.defaults,Qt(se.defaults),se};se.getDefaults=xt;se.defaults=Be;se.use=function(...c){return Ie.use(...c),se.defaults=Ie.defaults,Qt(se.defaults),se};se.walkTokens=function(c,t){return Ie.walkTokens(c,t)};se.parseInline=Ie.parseInline;se.Parser=Se;se.parser=Se.parse;se.Renderer=ot;se.TextRenderer=zt;se.Lexer=Re;se.lexer=Re.lex;se.Tokenizer=it;se.Hooks=We;se.parse=se;se.options;se.setOptions;se.use;se.walkTokens;se.parseInline;Se.parse;Re.lex;function ur(c){const t=n=>n.indexOf("http://")===0||n.indexOf("https://")===0?n:c+n;function e(n,i,a){const l=n.indexOf(i,a);if(l<0)return[n,-1];const b=n.indexOf('"',l+i.length+2),m=n.slice(l+i.length+1,b);return[n.replace(m,t(m)),a+l+1]}function r(n,i){let a=0;for(;a>=0;)[n,a]=e(n,i,a);return n}const o=new se.Renderer;return o.image=function(n,i,a){return`<img src=${t(n)} />`},o.link=function(n,i,a){return`<a href=${t(n)}>${a}</a>`},o.html=function(n,i){let a=r(n,"<img src=");return a=r(a,"<a href="),a},o}function dr(c){if(c.hasOwnProperty("answers"))return c;let t={};t.question=c.question,t.answers=[];for(let e of c.right){let r={isRight:!0};r.text=e,t.answers.push(r)}for(let e of c.wrong){let r={isRight:!1};r.text=e,t.answers.push(r)}return t}const cr=c=>{let t=c.getElementsByClassName("quiz")[0];if(t==null)return!1;let e={};e.slide=c;let r=JSON.parse(t.attributes["data-quiz"].value);e.data=dr(r),e.size=e.data.answers.length,e.order=new Array(e.size),e.questions=new Array(e.size),e.marked=new Array(e.size);for(let o=0;o<e.size;o++)e.order[o]=o;e.data.order!=!0&&mr(e.order);for(let o=0;o<e.size;o++)e.questions[o]=e.data.answers[e.order[o]],e.marked[o]=!1;if(e.class=o=>{const n=window.EASlides.quiz;return n.isCommit?"quiz-"+n.answers[o]:n.marked[o]?"quiz-marked":"quiz-unmarked"},!window.EASlides.slideIsDone)e.onAnswer=o=>{const n=window.EASlides.quiz;n.isCommit||(n.marked[o]=!n.marked[o]),ht()},e.onCommit=()=>{Wt();const o=fr(e),n=hr(o);e.isSuccess?bt("pass",Oe(),n):bt("fail",Oe(),n),jt(e),ht()};else{const o=window.EASlides.slideIsDone.result;e.marked=pr(o),Wt(e),jt(e)}return window.EASlides.quiz=e,ht(),!0};function jt(c){c.isCommit=!0,c.onCommit=()=>{},c.onAnswer=()=>{}}function ht(){var c=document.getElementById("quizView");c!=null&&c.remove();const t=window.EASlides.quiz;let e="<div id='quizView'>";e+="<h4>"+t.data.question+"</h4>",e+="<ul>";for(let r=0;r<t.questions.length;r++){const o=window.EASlides.quiz.class(r);e+="<li class='"+o,e+="' onClick=window.EASlides.quiz.onAnswer("+r+")>",e+=t.questions[r].text+"</li>"}e+="</ul>",e+="<p><button onClick=window.EASlides.quiz.onCommit() ",e+=t.isCommit?"disabled":"",e+="class='quiz-button'></button></p>",e+="</div>",t.slide.insertAdjacentHTML("afterbegin",e)}function Wt(c=window.EASlides.quiz){c.answers=Array(c.size),c.isSuccess=!0;for(let t=0;t<c.size;t++){const e=c.data.answers[c.order[t]].isRight;c.marked[t]?e?c.answers[t]="right":(c.answers[t]="wrong",c.isSuccess=!1):e?(c.answers[t]="must",c.isSuccess=!1):c.answers[t]="none"}}function fr(c){const t=c.marked.length,e=Array(t);for(let r=0;r<t;r++)e[c.order[r]]=c.marked[r];return e}function hr(c){var t=1,e=0;for(let r=0;r<c.length;r++)c[r]&&(e+=t),t*=2;return e}function pr(c){const t=[];for(;c>0;){const e=c%2;t.push(e),c=(c-e)/2}return t}function mr(c){for(var t,e,r=c.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),e=c[t],c[t]=c[r],c[r]=e;return c}const gr=(c="{}")=>{window.EASlides.state=c},bt=(c,t,e)=>{try{window.Courser.pageDone(t,c,e)}catch{console.log("Courser not found")}},vr=(c,t)=>c*100+t,Oe=()=>vr(window.EASlides.indexh,window.EASlides.indexv),pt=c=>{window.EASlides.state[Oe()]=c},$t=()=>window.EASlides.state[Oe()],br=()=>{wr(),yr(),kr()},Zt=c=>{window.EASlides.indexh=c.indexh,window.EASlides.indexv=c.indexv;try{window.EASlides.slideIsDone=window.Courser.pageIsDone(Oe())}catch{window.EASlides.slideIsDone=!1}cr(c.currentSlide)?window.EASlides.type="quiz":window.EASlides.type="audio",window.Reveal.layout()},wr=()=>{window.Reveal.on("ready",Zt),window.Reveal.on("slidechanged",Zt)},yr=()=>{document.addEventListener("startplayback",c=>{window.EASlides.type=="audio"&&pt("start")}),document.addEventListener("stopplayback",c=>{c.audio&&c.audio.ended&&$t()=="start"&&c.audio.currentTime>5&&(pt("done"),bt("done",Oe()))}),document.addEventListener("seekplayback",c=>{$t()=="start"&&pt("")})},kr=()=>{document.addEventListener("resetSlide",()=>{window.EASlides.state={},window.Reveal.slide(0,0,0)})};window.slide_init=async function(t=".",e={}){const{Reveal:r,Markdown:o,Highlight:n}=(await bn(()=>import("./assets/reveal-O3UDAKrJ.js"),__vite__mapDeps([]),import.meta.url)).RevealAll;window.EASlides={},window.EASlides.url=t;const i=ur(t),a=new r({plugins:[o,n,RevealAudioSlideshow,RevealAudioRecorder],audio:{prefix:t,suffix:".mp3",advance:-1},markdown:{renderer:i}});return a.initialize(),window.RecordRTC=ee,window.Reveal=a,gr(e),br(),a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}